{"ast":null,"code":"var _jsxFileName = \"/Users/zionwang/Projects/consensus/src/components/Results.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Transition, animated } from 'react-spring';\nimport database from '../firebase';\nimport Loader from \"./loader\";\nimport Carousel from \"nuka-carousel\";\nimport { useSprings } from \"react-spring/hooks\";\nimport ReactDOM from 'react-dom';\nimport '../styles/Results.css';\nimport { createNoSubstitutionTemplateLiteral } from \"typescript\";\n\nfunction Place({\n  data\n}) {\n  // const { name, photos } = data;\n  console.log(data); // const pic = photos[0];\n\n  var state = {\n    show: true\n  };\n  return (\n    /*#__PURE__*/\n    // <div className = \"result\">\n    //     <div style={{height: 20}}/>\n    //     <div className = \"textfortitle\">\n    //         consensus\n    //     </div>\n    //     <div style={{height: 20}}/>\n    //     <div className = \"textforhere\">\n    //         Here are your results!\n    //     </div>\n    //     <div className = \"textforinstruc\">\n    //         click on the image for more restaurant info.\n    //     </div>\n    //     <div style={{height: 20}}/>\n    //     <Transition\n    //         native\n    //         items={state.show}\n    //         from={{ overflow: 'hidden', height: 0 }}\n    //         enter={[{ height: 'auto' }]}\n    //         leave={{ height:  0}}>\n    //         {show =>\n    //             show && (props => <animated.div style={props}>\n    //                 <img id='circle' src={pic} alt=\"profilePicture\" />\n    //             </animated.div>)\n    //         }\n    //     </Transition>\n    //     <div style={{height: 20}}/>\n    //     <Transition\n    //         native\n    //         items={state.show}\n    //         from={{ overflow: 'hidden', height: 0 }}\n    //         enter={[{ height: 'auto' }]}\n    //         leave={{ height: 0 }}>\n    //         {show =>\n    //             show && (props => <animated.div style={props}>\n    //                 <div className = 'textforname'>\n    //                     {name}\n    //                 </div>\n    //             </animated.div>)\n    //         }\n    //     </Transition>\n    //     <div style={{height: 50}}/>\n    // </div>\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    })\n  );\n}\n\nfunction Results(props) {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [i, setI] = useState(0);\n  useEffect(() => {\n    // var arr = []\n    database.ref(`groups/${props.groupCode}/data`).once(\"value\", snapshot => {\n      snapshot.forEach(item => {\n        var temp = item.val();\n        data.push(temp);\n      });\n      data.sort((a, b) => b.vote - a.vote); // setData(data.concat(arr))\n      // console.log(\"arr\")\n      // console.log(arr)\n\n      console.log(\"data\");\n      console.log(data);\n      setLoading(false);\n    });\n  }, [props.groupCode]);\n\n  function testforsimilar(data) {\n    var x = 1;\n    var rand = Math.random() * 10000000;\n    var num = 0;\n\n    for (let i = 1; i < 10; i++) {\n      //console.log(data[i])\n      if (data[0].vote == data[i].vote) {\n        x += 1;\n        console.log(x);\n      }\n    }\n\n    num = Math.round(rand % x);\n    console.log(rand);\n    console.log(num);\n    setI(num);\n  } // async function filldata(){\n  //     database.ref(`groups/${props.groupCode}/data`).once(\"value\", (snapshot) => {\n  //         snapshot.forEach(item => {\n  //             var temp = item.val()\n  //             data.push(temp)\n  //         })\n  //         data.sort((a,b) => b.vote - a.vote)\n  //         setLoading(false)\n  //     })\n  //     console.log(data)\n  // }\n\n\n  if (loading) return /*#__PURE__*/React.createElement(Loader, {\n    loading: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"centered\",\n    class: \"flex w-screen h-screen justify-center\",\n    style: {\n      backgroundImage: 'linear-gradient(#FEDD7D, #FDCB74, #FDB872)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, testforsimilar(data), /*#__PURE__*/React.createElement(Place, {\n    data: data[i],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Results;","map":{"version":3,"sources":["/Users/zionwang/Projects/consensus/src/components/Results.js"],"names":["React","useState","useEffect","Transition","animated","database","Loader","Carousel","useSprings","ReactDOM","createNoSubstitutionTemplateLiteral","Place","data","console","log","state","show","Results","props","setData","loading","setLoading","i","setI","ref","groupCode","once","snapshot","forEach","item","temp","val","push","sort","a","b","vote","testforsimilar","x","rand","Math","random","num","round","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Transition, animated } from 'react-spring'\nimport database from '../firebase';\nimport Loader from \"./loader\"\nimport Carousel from \"nuka-carousel\";\nimport { useSprings } from \"react-spring/hooks\";\nimport ReactDOM from 'react-dom'\n\nimport '../styles/Results.css'\nimport { createNoSubstitutionTemplateLiteral } from \"typescript\";\n\nfunction Place({data}){\n    // const { name, photos } = data;\n    console.log(data)\n    // const pic = photos[0];\n    var state = { show: true };\n\n        return (\n            // <div className = \"result\">\n            //     <div style={{height: 20}}/>\n            //     <div className = \"textfortitle\">\n            //         consensus\n            //     </div>\n            //     <div style={{height: 20}}/>\n            //     <div className = \"textforhere\">\n            //         Here are your results!\n            //     </div>\n            //     <div className = \"textforinstruc\">\n            //         click on the image for more restaurant info.\n            //     </div>\n            //     <div style={{height: 20}}/>\n            //     <Transition\n            //         native\n            //         items={state.show}\n            //         from={{ overflow: 'hidden', height: 0 }}\n            //         enter={[{ height: 'auto' }]}\n            //         leave={{ height:  0}}>\n            //         {show =>\n            //             show && (props => <animated.div style={props}>\n            //                 <img id='circle' src={pic} alt=\"profilePicture\" />\n            //             </animated.div>)\n            //         }\n            //     </Transition>\n            //     <div style={{height: 20}}/>\n            //     <Transition\n            //         native\n            //         items={state.show}\n            //         from={{ overflow: 'hidden', height: 0 }}\n            //         enter={[{ height: 'auto' }]}\n            //         leave={{ height: 0 }}>\n            //         {show =>\n            //             show && (props => <animated.div style={props}>\n            //                 <div className = 'textforname'>\n            //                     {name}\n            //                 </div>\n            //             </animated.div>)\n            //         }\n            //     </Transition>\n            //     <div style={{height: 50}}/>\n            // </div>\n            <div/>\n        );\n}\n\nfunction Results(props) {\n\n    const [data, setData] = useState([])\n    const [loading, setLoading] = useState(true)\n    const [i, setI] = useState(0)\n\n    useEffect(() => {\n        // var arr = []\n        database.ref(`groups/${props.groupCode}/data`).once(\"value\", (snapshot) => {\n            snapshot.forEach(item => {\n                var temp = item.val()\n                data.push(temp)\n            })\n            data.sort((a,b) => b.vote - a.vote)\n            // setData(data.concat(arr))\n            // console.log(\"arr\")\n            // console.log(arr)\n            console.log(\"data\")\n            console.log(data)\n            setLoading(false)\n        })\n    }, [props.groupCode])\n\n    function testforsimilar(data){\n        var x = 1;\n        var rand = Math.random() * 10000000\n        var num = 0;\n        for (let i = 1; i < 10; i++){\n            //console.log(data[i])\n            if (data[0].vote == data[i].vote){\n                x += 1;\n                console.log(x)\n            }\n        }\n        num = Math.round(rand % x);\n        console.log(rand);\n        console.log(num)\n        setI(num)\n    }\n\n    // async function filldata(){\n    //     database.ref(`groups/${props.groupCode}/data`).once(\"value\", (snapshot) => {\n    //         snapshot.forEach(item => {\n    //             var temp = item.val()\n    //             data.push(temp)\n    //         })\n    //         data.sort((a,b) => b.vote - a.vote)\n    //         setLoading(false)\n    //     })\n    //     console.log(data)\n    // }\n    \n    if (loading) return <Loader loading={true} />\n\n    return(\n        <div className = 'centered' class=\"flex w-screen h-screen justify-center\" style={{backgroundImage: 'linear-gradient(#FEDD7D, #FDCB74, #FDB872)'}}>\n            {testforsimilar(data)}\n            <Place data = {data[i]}/>\n        </div>\n    );\n}\n\nexport default Results;"]},"metadata":{},"sourceType":"module"}