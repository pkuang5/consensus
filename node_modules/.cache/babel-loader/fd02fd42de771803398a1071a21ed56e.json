{"ast":null,"code":"var _jsxFileName = \"/Users/zionwang/Projects/consensus/src/components/poll.js\";\nimport React, { useState, useEffect } from 'react';\nimport database from '../firebase';\nimport Restaurant from './restaurant';\nimport Swipe from 'react-easy-swipe';\n\nfunction Poll(props) {\n  const [index, setIndex] = useState(0);\n\n  function upVote() {\n    console.log(\"up vote\");\n    database.ref(`groups/${props.groupCode}/${props.businesses[index]}`).transaction(function (vote) {\n      return (vote || 0) + 1;\n    });\n    setIndex(index + 1);\n  }\n\n  function downVote() {\n    console.log(\"down vote\");\n    database.ref(`groups/${props.groupCode}/${props.businesses[index]}`).transaction(function (vote) {\n      return (vote || 0) - 1;\n    });\n    setIndex(index + 1);\n  }\n\n  return /*#__PURE__*/React.createElement(Swipe, {\n    onSwipeRight: () => upVote(),\n    onSwipeLeft: () => downVote(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Restaurant, {\n    class: \"w-full\",\n    id: props.businesses[index],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Poll;","map":{"version":3,"sources":["/Users/zionwang/Projects/consensus/src/components/poll.js"],"names":["React","useState","useEffect","database","Restaurant","Swipe","Poll","props","index","setIndex","upVote","console","log","ref","groupCode","businesses","transaction","vote","downVote"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,kBAAlB;;AAGA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAEnB,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBR,QAAQ,CAAC,CAAD,CAAjC;;AAEA,WAASS,MAAT,GAAkB;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAT,IAAAA,QAAQ,CAACU,GAAT,CAAc,UAASN,KAAK,CAACO,SAAU,IAAGP,KAAK,CAACQ,UAAN,CAAiBP,KAAjB,CAAwB,EAAlE,EAAqEQ,WAArE,CAAiF,UAASC,IAAT,EAAe;AAC9F,aAAO,CAACA,IAAI,IAAI,CAAT,IAAc,CAArB;AACH,KAFC;AAGAR,IAAAA,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;AACH;;AAED,WAASU,QAAT,GAAoB;AAChBP,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAT,IAAAA,QAAQ,CAACU,GAAT,CAAc,UAASN,KAAK,CAACO,SAAU,IAAGP,KAAK,CAACQ,UAAN,CAAiBP,KAAjB,CAAwB,EAAlE,EAAqEQ,WAArE,CAAiF,UAASC,IAAT,EAAe;AAC9F,aAAO,CAACA,IAAI,IAAI,CAAT,IAAc,CAArB;AACH,KAFC;AAGAR,IAAAA,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;AACH;;AAED,sBACE,oBAAC,KAAD;AAAO,IAAA,YAAY,EAAE,MAAME,MAAM,EAAjC;AAAqC,IAAA,WAAW,EAAE,MAAMQ,QAAQ,EAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,KAAK,EAAC,QAAlB;AAA2B,IAAA,EAAE,EAAEX,KAAK,CAACQ,UAAN,CAAiBP,KAAjB,CAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF;AAKD;;AAED,eAAeF,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport database from '../firebase'\nimport Restaurant from './restaurant'\nimport Swipe from 'react-easy-swipe'\n\n\nfunction Poll(props) {\n  \n  const [index,setIndex] = useState(0)\n\n  function upVote() {\n      console.log(\"up vote\")\n      database.ref(`groups/${props.groupCode}/${props.businesses[index]}`).transaction(function(vote) {\n        return (vote || 0) + 1\n    })\n      setIndex(index + 1)\n  }\n\n  function downVote() {\n      console.log(\"down vote\")\n      database.ref(`groups/${props.groupCode}/${props.businesses[index]}`).transaction(function(vote) {\n        return (vote || 0) - 1\n    })\n      setIndex(index + 1)\n  }\n\n  return (\n    <Swipe onSwipeRight={() => upVote()} onSwipeLeft={() => downVote()}>\n      <Restaurant class=\"w-full\" id={props.businesses[index]} />\n    </Swipe>\n  );\n}\n\nexport default Poll;\n"]},"metadata":{},"sourceType":"module"}