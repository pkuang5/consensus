{"ast":null,"code":"var _jsxFileName = \"/Users/zionwang/Projects/consensus/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport database from \"./firebase\";\nimport yelpREST from \"./api/yelp\";\nimport Poll from \"./components/poll\";\nimport Search from \"./components/search\";\nimport JoinCode from \"./components/joinCode\";\nimport CreateCode from \"./components/createCode\"; //import Progress from './components/progress'\n\nimport Question from \"./components/question\";\nimport Deck from \"./components/Deck\";\nimport Loader from \"./components/loader\"; //import Questionnaire from \"./components/questionnaire\";\n\nfunction App() {\n  const [businesses, setBusinesses] = useState([]);\n  const [groupCode, setGroupCode] = useState(0);\n  const [cardData, setCardData] = useState([]);\n  useEffect(() => {\n    if (businesses.length != 0) populateBusinesses(businesses);\n  }, [businesses]);\n\n  async function populateBusinesses(idArray) {\n    idArray.reduce(async (memo, id) => {\n      await memo;\n      await yelpREST(`/businesses/${id}`).then(({\n        data\n      }) => {\n        var item = {\n          id: data.id,\n          name: data.name,\n          pics: data.photos\n        };\n        setCardData(cardData => [...cardData, item]);\n      });\n    }, undefined);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, businesses.length == 0 ? /*#__PURE__*/React.createElement(Search, {\n    onSubmitSearch: businesses => setBusinesses(businesses),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 33\n    }\n  }) : null, cardData.length != businesses.length && businesses.length != 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"h-screen w-screen flex justify-center items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 73\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    loading: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 137\n    }\n  })) : null, cardData.length == businesses.length && businesses.length != 0 ? /*#__PURE__*/React.createElement(Deck, {\n    data: cardData,\n    groupCode: groupCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 71\n    }\n  }) : null);\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/zionwang/Projects/consensus/src/App.js"],"names":["React","useState","useEffect","database","yelpREST","Poll","Search","JoinCode","CreateCode","Question","Deck","Loader","App","businesses","setBusinesses","groupCode","setGroupCode","cardData","setCardData","length","populateBusinesses","idArray","reduce","memo","id","then","data","item","name","pics","photos","undefined"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,UAAP,MAAuB,yBAAvB,C,CACA;;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,MAAP,MAAmB,qBAAnB,C,CACA;;AAEA,SAASC,GAAT,GAAe;AACb,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACc,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAC,CAAD,CAA1C;AACA,QAAM,CAACgB,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIW,UAAU,CAACM,MAAX,IAAqB,CAAzB,EAA4BC,kBAAkB,CAACP,UAAD,CAAlB;AAC7B,GAFQ,EAEN,CAACA,UAAD,CAFM,CAAT;;AAIA,iBAAeO,kBAAf,CAAkCC,OAAlC,EAA2C;AACzCA,IAAAA,OAAO,CAACC,MAAR,CAAe,OAAOC,IAAP,EAAaC,EAAb,KAAoB;AACjC,YAAMD,IAAN;AACA,YAAMnB,QAAQ,CAAE,eAAcoB,EAAG,EAAnB,CAAR,CAA8BC,IAA9B,CAAmC,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAc;AACrD,YAAIC,IAAI,GAAG;AACTH,UAAAA,EAAE,EAAEE,IAAI,CAACF,EADA;AAETI,UAAAA,IAAI,EAAEF,IAAI,CAACE,IAFF;AAGTC,UAAAA,IAAI,EAAEH,IAAI,CAACI;AAHF,SAAX;AAKAZ,QAAAA,WAAW,CAACD,QAAQ,IAAI,CAAC,GAAGA,QAAJ,EAAcU,IAAd,CAAb,CAAX;AACD,OAPK,CAAN;AAQD,KAVD,EAUGI,SAVH;AAWD;;AAED,sBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAyCGlB,UAAU,CAACM,MAAX,IAAqB,CAArB,gBAAyB,oBAAC,MAAD;AAAQ,IAAA,cAAc,EAAGN,UAAD,IAAgBC,aAAa,CAACD,UAAD,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAzB,GAAgG,IAzCnG,EA0CGI,QAAQ,CAACE,MAAT,IAAmBN,UAAU,CAACM,MAA9B,IAAwCN,UAAU,CAACM,MAAX,IAAqB,CAA7D,gBAAiE;AAAK,IAAA,KAAK,EAAC,oDAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAgE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAE,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAhE,CAAjE,GAAkK,IA1CrK,EA2CCF,QAAQ,CAACE,MAAT,IAAmBN,UAAU,CAACM,MAA9B,IAAwCN,UAAU,CAACM,MAAX,IAAqB,CAA7D,gBAAiE,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAEF,QAAZ;AAAsB,IAAA,SAAS,EAAEF,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAjE,GAAiH,IA3ClH,CADF;AA+CD;;AAED,eAAeH,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport database from \"./firebase\";\nimport yelpREST from \"./api/yelp\";\nimport Poll from \"./components/poll\";\nimport Search from \"./components/search\";\nimport JoinCode from \"./components/joinCode\";\nimport CreateCode from \"./components/createCode\";\n//import Progress from './components/progress'\nimport Question from \"./components/question\";\nimport Deck from \"./components/Deck\";\nimport Loader from \"./components/loader\"\n//import Questionnaire from \"./components/questionnaire\";\n\nfunction App() {\n  const [businesses, setBusinesses] = useState([]);\n  const [groupCode, setGroupCode] = useState(0);\n  const [cardData, setCardData] = useState([])\n\n  useEffect(() => {\n    if (businesses.length != 0) populateBusinesses(businesses)\n  }, [businesses])\n\n  async function populateBusinesses(idArray) {\n    idArray.reduce(async (memo, id) => {\n      await memo\n      await yelpREST(`/businesses/${id}`).then(({ data }) => {\n        var item = {\n          id: data.id,\n          name: data.name,\n          pics: data.photos\n        }\n        setCardData(cardData => [...cardData, item])\n      })\n    }, undefined)\n  }\n\n  return (\n    <React.Fragment>\n      {/* <div>\n        {!firstPress ? (\n          <button\n            onClick={next}\n            class=\"w-40 h-10 bg-blue-600 text-white center\"\n          >\n            Create a Group\n          </button>\n        ) : (\n          <div>\n            {currentQuestion == 0 ? (\n              <Questionnaire\n                message={\n                  questionnaire[answers.length / questions.length].message\n                }\n                onNext={handleContinue}\n              />\n            ) : (\n              <Question\n                question={questions[currentQuestion].question}\n                id={question.id}\n                onContinue={handleContinue}\n                onPrevious={handlePrevious}\n              />\n            )}\n          </div>\n        )}\n      </div> */}\n      {/* <div>\n        <Question />\n      </div> */}\n      {/* <CreateCode\n        businesses={businesses}\n        onCreateCode={(code) => setGroupCode(code)}\n        groupCode={groupCode}\n      /> */}\n      {/* <JoinCode\n        onJoinCode={(code) => setGroupCode(code)}\n        populateBusinesses={(businesses) => setBusinesses(businesses)}\n      /> */}\n      {businesses.length == 0 ? <Search onSubmitSearch={(businesses) => setBusinesses(businesses)} />: null}\n      {cardData.length != businesses.length && businesses.length != 0 ? <div class=\"h-screen w-screen flex justify-center items-center\"><Loader loading={true} /></div>: null}\n    {cardData.length == businesses.length && businesses.length != 0 ? <Deck data={cardData} groupCode={groupCode} />: null}\n    </React.Fragment>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}