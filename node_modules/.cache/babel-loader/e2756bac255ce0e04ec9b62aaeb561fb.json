{"ast":null,"code":"import e, { Component as o } from \"react\";\nimport t from \"prop-types\";\nimport n from \"react-dom\";\nimport i from \"eventemitter3\";\nimport r from \"@mapbox/point-geometry\";\n\nfunction s() {\n  return (s = Object.assign || function (e) {\n    for (var o = 1; o < arguments.length; o++) {\n      var t = arguments[o];\n\n      for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction a(e, o) {\n  e.prototype = Object.create(o.prototype), e.prototype.constructor = e, e.__proto__ = o;\n}\n\nfunction p(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\n\nvar l = {\n  width: \"100%\",\n  height: \"100%\",\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: \"absolute\"\n},\n    u = function (o) {\n  function t() {\n    return o.apply(this, arguments) || this;\n  }\n\n  a(t, o);\n  var n = t.prototype;\n  return n.shouldComponentUpdate = function () {\n    return !1;\n  }, n.render = function () {\n    return e.createElement(\"div\", {\n      ref: this.props.registerChild,\n      style: l\n    });\n  }, t;\n}(o),\n    h = function (e) {\n  function o(o) {\n    var t;\n    return (t = e.call(this) || this).gmapInstance = o, t;\n  }\n\n  a(o, e);\n  var t = o.prototype;\n  return t.getChildren = function () {\n    return this.gmapInstance.props.children;\n  }, t.getMousePosition = function () {\n    return this.gmapInstance.mouse_;\n  }, t.getUpdateCounter = function () {\n    return this.gmapInstance.updateCounter_;\n  }, t.dispose = function () {\n    this.gmapInstance = null, this.removeAllListeners();\n  }, o;\n}(i),\n    c = function (e, o) {\n  for (var t = s({}, e), n = 0; n < o.length; n++) {\n    var i = o[n];\n    i in t && delete t[i];\n  }\n\n  return t;\n},\n    d = Object.prototype.hasOwnProperty;\n\nfunction m(e, o) {\n  return e === o ? 0 !== e || 0 !== o || 1 / e == 1 / o : e != e && o != o;\n}\n\nfunction g(e, o) {\n  if (m(e, o)) return !0;\n  if (\"object\" != typeof e || null === e || \"object\" != typeof o || null === o) return !1;\n  var t = Object.keys(e),\n      n = Object.keys(o);\n  if (t.length !== n.length) return !1;\n\n  for (var i = 0; i < t.length; i++) if (!d.call(o, t[i]) || !m(e[t[i]], o[t[i]])) return !1;\n\n  return !0;\n}\n\nvar _ = {\n  width: \"100%\",\n  height: \"100%\",\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: \"absolute\"\n},\n    f = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  backgroundColor: \"transparent\",\n  position: \"absolute\"\n},\n    v = function (o) {\n  function t(t) {\n    var n;\n    return (n = o.call(this, t) || this)._getState = function () {\n      return {\n        children: n.props.dispatcher.getChildren(),\n        updateCounter: n.props.dispatcher.getUpdateCounter()\n      };\n    }, n._onChangeHandler = function () {\n      if (n.dimensionsCache_) {\n        var e = (n.state.children || []).length,\n            o = n._getState();\n\n        n.setState(o, function () {\n          return (o.children || []).length !== e && n._onMouseChangeHandler();\n        });\n      }\n    }, n._onChildClick = function () {\n      n.props.onChildClick && n.hoverChildProps_ && n.props.onChildClick(n.hoverKey_, n.hoverChildProps_);\n    }, n._onChildMouseDown = function () {\n      n.props.onChildMouseDown && n.hoverChildProps_ && n.props.onChildMouseDown(n.hoverKey_, n.hoverChildProps_);\n    }, n._onChildMouseEnter = function (e, o) {\n      n.dimensionsCache_ && (n.props.onChildMouseEnter && n.props.onChildMouseEnter(e, o), n.hoverChildProps_ = o, n.hoverKey_ = e, n.setState({\n        hoverKey: e\n      }));\n    }, n._onChildMouseLeave = function () {\n      if (n.dimensionsCache_) {\n        var e = n.hoverKey_;\n        null != e && (n.props.onChildMouseLeave && n.props.onChildMouseLeave(e, n.hoverChildProps_), n.hoverKey_ = null, n.hoverChildProps_ = null, n.setState({\n          hoverKey: null\n        }));\n      }\n    }, n._onMouseAllow = function (e) {\n      e || n._onChildMouseLeave(), n.allowMouse_ = e;\n    }, n._onMouseChangeHandler = function () {\n      n.allowMouse_ && n._onMouseChangeHandlerRaf();\n    }, n._onMouseChangeHandlerRaf = function () {\n      if (n.dimensionsCache_) {\n        var o = n.props.dispatcher.getMousePosition();\n\n        if (o) {\n          var t = [],\n              i = n.props.getHoverDistance();\n\n          if (e.Children.forEach(n.state.children, function (e, r) {\n            if (e && (void 0 !== e.props.latLng || void 0 !== e.props.lat || void 0 !== e.props.lng)) {\n              var s = null != e.key ? e.key : r,\n                  a = n.props.distanceToMouse(n.dimensionsCache_[s], o, e.props);\n              a < i && t.push({\n                key: s,\n                dist: a,\n                props: e.props\n              });\n            }\n          }), t.length) {\n            t.sort(function (e, o) {\n              return e.dist - o.dist;\n            });\n            var r = t[0].key,\n                s = t[0].props;\n            n.hoverKey_ !== r && (n._onChildMouseLeave(), n._onChildMouseEnter(r, s));\n          } else n._onChildMouseLeave();\n        } else n._onChildMouseLeave();\n      }\n    }, n._getDimensions = function (e) {\n      return n.dimensionsCache_[e];\n    }, n.dimensionsCache_ = {}, n.hoverKey_ = null, n.hoverChildProps_ = null, n.allowMouse_ = !0, n.state = s({}, n._getState(), {\n      hoverKey: null\n    }), n;\n  }\n\n  a(t, o);\n  var n = t.prototype;\n  return n.componentDidMount = function () {\n    this.props.dispatcher.on(\"kON_CHANGE\", this._onChangeHandler), this.props.dispatcher.on(\"kON_MOUSE_POSITION_CHANGE\", this._onMouseChangeHandler), this.props.dispatcher.on(\"kON_CLICK\", this._onChildClick), this.props.dispatcher.on(\"kON_MDOWN\", this._onChildMouseDown);\n  }, n.shouldComponentUpdate = function (e, o) {\n    return !0 === this.props.experimental ? !g(this.props, e) || !g(c(this.state, [\"hoverKey\"]), c(o, [\"hoverKey\"])) : !g(this.props, e) || !g(this.state, o);\n  }, n.componentWillUnmount = function () {\n    this.props.dispatcher.removeListener(\"kON_CHANGE\", this._onChangeHandler), this.props.dispatcher.removeListener(\"kON_MOUSE_POSITION_CHANGE\", this._onMouseChangeHandler), this.props.dispatcher.removeListener(\"kON_CLICK\", this._onChildClick), this.props.dispatcher.removeListener(\"kON_MDOWN\", this._onChildMouseDown), this.dimensionsCache_ = null;\n  }, n.render = function () {\n    var o = this,\n        t = this.props.style || _;\n    this.dimensionsCache_ = {};\n    var n = e.Children.map(this.state.children, function (t, n) {\n      if (t) {\n        if (void 0 === t.props.latLng && void 0 === t.props.lat && void 0 === t.props.lng) return e.cloneElement(t, {\n          $geoService: o.props.geoService,\n          $onMouseAllow: o._onMouseAllow,\n          $prerender: o.props.prerender\n        });\n        var i = void 0 !== t.props.latLng ? t.props.latLng : {\n          lat: t.props.lat,\n          lng: t.props.lng\n        },\n            r = o.props.insideMapPanes ? o.props.geoService.fromLatLngToDivPixel(i) : o.props.geoService.fromLatLngToCenterPixel(i),\n            a = {\n          left: r.x,\n          top: r.y\n        };\n\n        if (void 0 !== t.props.seLatLng || void 0 !== t.props.seLat && void 0 !== t.props.seLng) {\n          var p = void 0 !== t.props.seLatLng ? t.props.seLatLng : {\n            lat: t.props.seLat,\n            lng: t.props.seLng\n          },\n              l = o.props.insideMapPanes ? o.props.geoService.fromLatLngToDivPixel(p) : o.props.geoService.fromLatLngToCenterPixel(p);\n          a.width = l.x - r.x, a.height = l.y - r.y;\n        }\n\n        var u = o.props.geoService.fromLatLngToContainerPixel(i),\n            h = null != t.key ? t.key : n;\n        return o.dimensionsCache_[h] = s({\n          x: u.x,\n          y: u.y\n        }, i), e.createElement(\"div\", {\n          key: h,\n          style: s({}, f, a),\n          className: t.props.$markerHolderClassName\n        }, e.cloneElement(t, {\n          $hover: h === o.state.hoverKey,\n          $getDimensions: o._getDimensions,\n          $dimensionKey: h,\n          $geoService: o.props.geoService,\n          $onMouseAllow: o._onMouseAllow,\n          $prerender: o.props.prerender\n        }));\n      }\n    });\n    return e.createElement(\"div\", {\n      style: t\n    }, n);\n  }, t;\n}(o);\n\nv.propTypes = {\n  geoService: t.any,\n  style: t.any,\n  distanceToMouse: t.func,\n  dispatcher: t.any,\n  onChildClick: t.func,\n  onChildMouseDown: t.func,\n  onChildMouseLeave: t.func,\n  onChildMouseEnter: t.func,\n  getHoverDistance: t.func,\n  insideMapPanes: t.bool,\n  prerender: t.bool\n}, v.defaultProps = {\n  insideMapPanes: !1,\n  prerender: !1\n};\nvar M = {\n  width: \"50%\",\n  height: \"50%\",\n  left: \"50%\",\n  top: \"50%\",\n  margin: 0,\n  padding: 0,\n  position: \"absolute\"\n};\n\nfunction y(o) {\n  return e.createElement(\"div\", {\n    style: M\n  }, e.createElement(v, s({}, o, {\n    prerender: !0\n  })));\n}\n\nvar C,\n    w,\n    L = null,\n    b = new Promise(function (e) {\n  w = e;\n}),\n    D = function (e, o) {\n  return L || (L = require(\"scriptjs\")), e ? C || (C = new Promise(function (t, n) {\n    if (\"undefined\" != typeof window) {\n      if (window.google && window.google.maps) t(window.google.maps);else {\n        if (void 0 !== window._$_google_map_initialize_$_ && n(new Error(\"google map initialization error\")), window._$_google_map_initialize_$_ = function () {\n          delete window._$_google_map_initialize_$_, t(window.google.maps);\n        }, \"production\" !== process.env.NODE_ENV && Object.keys(e).indexOf(\"callback\") > -1) {\n          var i = '\"callback\" key in bootstrapURLKeys is not allowed,\\n                          use onGoogleApiLoaded property instead';\n          throw console.error(i), new Error(i);\n        }\n\n        var r = Object.keys(e).reduce(function (o, t) {\n          return o + \"&\" + t + \"=\" + e[t];\n        }, \"\");\n        L(\"https://maps.googleapis.com/maps/api/js?callback=_$_google_map_initialize_$_\" + r + (o ? \"&libraries=visualization\" : \"\"), function () {\n          return void 0 === window.google && n(new Error(\"google map initialization error (not loaded)\"));\n        });\n      }\n    } else n(new Error(\"google map cannot be loaded outside browser env\"));\n  }), w(C), C) : b;\n};\n\nfunction z(e, o, t) {\n  var n = t - o;\n  return e === t ? e : ((e - o) % n + n) % n + o;\n}\n\nvar k = function () {\n  function e(e, o) {\n    if (isNaN(e) || isNaN(o)) throw new Error(\"Invalid LatLng object: (\" + e + \", \" + o + \")\");\n    this.lat = +e, this.lng = +o;\n  }\n\n  return e.prototype.wrap = function () {\n    return new e(this.lat, z(this.lng, -180, 180));\n  }, e;\n}();\n\nk.convert = function (e) {\n  return e instanceof k ? e : Array.isArray(e) ? new k(e[0], e[1]) : \"lng\" in e && \"lat\" in e ? new k(e.lat, e.lng) : e;\n};\n\nvar O = function () {\n  function e(e, o, t) {\n    this.tileSize = e || 512, this._minZoom = o || 0, this._maxZoom = t || 52, this.latRange = [-85.05113, 85.05113], this.width = 0, this.height = 0, this.zoom = 0, this.center = new k(0, 0), this.angle = 0;\n  }\n\n  var o,\n      t = e.prototype;\n  return t.zoomScale = function (e) {\n    return Math.pow(2, e);\n  }, t.scaleZoom = function (e) {\n    return Math.log(e) / Math.LN2;\n  }, t.project = function (e, o) {\n    return new r(this.lngX(e.lng, o), this.latY(e.lat, o));\n  }, t.unproject = function (e, o) {\n    return new k(this.yLat(e.y, o), this.xLng(e.x, o));\n  }, t.lngX = function (e, o) {\n    return (180 + e) * (o || this.worldSize) / 360;\n  }, t.latY = function (e, o) {\n    return (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + e * Math.PI / 360))) * (o || this.worldSize) / 360;\n  }, t.xLng = function (e, o) {\n    return 360 * e / (o || this.worldSize) - 180;\n  }, t.yLat = function (e, o) {\n    return 360 / Math.PI * Math.atan(Math.exp((180 - 360 * e / (o || this.worldSize)) * Math.PI / 180)) - 90;\n  }, t.locationPoint = function (e) {\n    var o = this.project(e);\n    return this.centerPoint._sub(this.point._sub(o)._rotate(this.angle));\n  }, t.pointLocation = function (e) {\n    var o = this.centerPoint._sub(e)._rotate(-this.angle);\n\n    return this.unproject(this.point.sub(o));\n  }, (o = [{\n    key: \"minZoom\",\n    get: function () {\n      return this._minZoom;\n    },\n    set: function (e) {\n      this._minZoom = e, this.zoom = Math.max(this.zoom, e);\n    }\n  }, {\n    key: \"maxZoom\",\n    get: function () {\n      return this._maxZoom;\n    },\n    set: function (e) {\n      this._maxZoom = e, this.zoom = Math.min(this.zoom, e);\n    }\n  }, {\n    key: \"worldSize\",\n    get: function () {\n      return this.tileSize * this.scale;\n    }\n  }, {\n    key: \"centerPoint\",\n    get: function () {\n      return new r(0, 0);\n    }\n  }, {\n    key: \"size\",\n    get: function () {\n      return new r(this.width, this.height);\n    }\n  }, {\n    key: \"bearing\",\n    get: function () {\n      return -this.angle / Math.PI * 180;\n    },\n    set: function (e) {\n      this.angle = -z(e, -180, 180) * Math.PI / 180;\n    }\n  }, {\n    key: \"zoom\",\n    get: function () {\n      return this._zoom;\n    },\n    set: function (e) {\n      var o = Math.min(Math.max(e, this.minZoom), this.maxZoom);\n      this._zoom = o, this.scale = this.zoomScale(o), this.tileZoom = Math.floor(o), this.zoomFraction = o - this.tileZoom;\n    }\n  }, {\n    key: \"x\",\n    get: function () {\n      return this.lngX(this.center.lng);\n    }\n  }, {\n    key: \"y\",\n    get: function () {\n      return this.latY(this.center.lat);\n    }\n  }, {\n    key: \"point\",\n    get: function () {\n      return new r(this.x, this.y);\n    }\n  }]) && function (e, o) {\n    for (var t = 0; t < o.length; t++) {\n      var n = o[t];\n      n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n    }\n  }(e.prototype, o), e;\n}(),\n    x = function () {\n  function e(e) {\n    this.hasSize_ = !1, this.hasView_ = !1, this.transform_ = new O(e || 512);\n  }\n\n  var o = e.prototype;\n  return o.setView = function (e, o, t) {\n    this.transform_.center = k.convert(e), this.transform_.zoom = +o, this.transform_.bearing = +t, this.hasView_ = !0;\n  }, o.setViewSize = function (e, o) {\n    this.transform_.width = e, this.transform_.height = o, this.hasSize_ = !0;\n  }, o.setMapCanvasProjection = function (e, o) {\n    this.maps_ = e, this.mapCanvasProjection_ = o;\n  }, o.canProject = function () {\n    return this.hasSize_ && this.hasView_;\n  }, o.hasSize = function () {\n    return this.hasSize_;\n  }, o.fromLatLngToCenterPixel = function (e) {\n    return this.transform_.locationPoint(k.convert(e));\n  }, o.fromLatLngToDivPixel = function (e) {\n    if (this.mapCanvasProjection_) {\n      var o = new this.maps_.LatLng(e.lat, e.lng);\n      return this.mapCanvasProjection_.fromLatLngToDivPixel(o);\n    }\n\n    return this.fromLatLngToCenterPixel(e);\n  }, o.fromLatLngToContainerPixel = function (e) {\n    if (this.mapCanvasProjection_) {\n      var o = new this.maps_.LatLng(e.lat, e.lng);\n      return this.mapCanvasProjection_.fromLatLngToContainerPixel(o);\n    }\n\n    var t = this.fromLatLngToCenterPixel(e);\n    return t.x -= this.transform_.worldSize * Math.round(t.x / this.transform_.worldSize), t.x += this.transform_.width / 2, t.y += this.transform_.height / 2, t;\n  }, o.fromContainerPixelToLatLng = function (e) {\n    if (this.mapCanvasProjection_) {\n      var o = this.mapCanvasProjection_.fromContainerPixelToLatLng(e);\n      return {\n        lat: o.lat(),\n        lng: o.lng()\n      };\n    }\n\n    var t = s({}, e);\n    t.x -= this.transform_.width / 2, t.y -= this.transform_.height / 2;\n    var n = this.transform_.pointLocation(r.convert(t));\n    return n.lng -= 360 * Math.round(n.lng / 360), n;\n  }, o.getWidth = function () {\n    return this.transform_.width;\n  }, o.getHeight = function () {\n    return this.transform_.height;\n  }, o.getZoom = function () {\n    return this.transform_.zoom;\n  }, o.getCenter = function () {\n    return this.transform_.pointLocation({\n      x: 0,\n      y: 0\n    });\n  }, o.getBounds = function (e, o) {\n    var t = e && e[0] || 0,\n        n = e && e[1] || 0,\n        i = e && e[2] || 0,\n        s = e && e[3] || 0;\n\n    if (this.getWidth() - n - s > 0 && this.getHeight() - t - i > 0) {\n      var a = this.transform_.pointLocation(r.convert({\n        x: s - this.getWidth() / 2,\n        y: t - this.getHeight() / 2\n      })),\n          p = this.transform_.pointLocation(r.convert({\n        x: this.getWidth() / 2 - n,\n        y: this.getHeight() / 2 - i\n      })),\n          l = [a.lat, a.lng, p.lat, p.lng, p.lat, a.lng, a.lat, p.lng];\n      return o && (l = l.map(function (e) {\n        return Math.round(e * o) / o;\n      })), l;\n    }\n\n    return [0, 0, 0, 0];\n  }, e;\n}();\n\nfunction S(e) {\n  if (window.requestAnimationFrame) return window.requestAnimationFrame(e);\n  var o = window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n  return o ? o(e) : window.setTimeout(e, 1e3 / 60);\n}\n\nvar T = Math.log2 ? Math.log2 : function (e) {\n  return Math.log(e) / Math.LN2;\n};\n\nfunction E(e, o) {\n  return Object.keys(e).reduce(function (t, n) {\n    return o(e[n]) && (t[n] = e[n]), t;\n  }, {});\n}\n\nvar P = function (e) {\n  if (null !== e && \"object\" == typeof e) {\n    if (0 === Object.keys(e).length) return !0;\n  } else if (null == e || \"\" === e) return !0;\n\n  return !1;\n},\n    A = Object.prototype.toString;\n\nfunction I(e) {\n  return \"number\" == typeof e || function (e) {\n    return !!e && \"object\" == typeof e;\n  }(e) && \"[object Number]\" === A.call(e);\n}\n\nvar N = null;\n\nfunction Z() {\n  if (N) return N;\n\n  if (\"undefined\" != typeof navigator) {\n    var e = navigator.userAgent.indexOf(\"MSIE\") > -1,\n        o = navigator.userAgent.indexOf(\"Firefox\") > -1,\n        t = navigator.userAgent.toLowerCase().indexOf(\"op\") > -1,\n        n = navigator.userAgent.indexOf(\"Chrome\") > -1,\n        i = navigator.userAgent.indexOf(\"Safari\") > -1;\n    return n && i && (i = !1), n && t && (n = !1), N = {\n      isExplorer: e,\n      isFirefox: o,\n      isOpera: t,\n      isChrome: n,\n      isSafari: i\n    };\n  }\n\n  return N = {\n    isChrome: !0,\n    isExplorer: !1,\n    isFirefox: !1,\n    isOpera: !1,\n    isSafari: !1\n  };\n}\n\nvar j = function (e) {\n  return Function.prototype.toString.call(e);\n};\n\nfunction U(e) {\n  if (!e || \"object\" != typeof e) return !1;\n  var o = \"function\" == typeof e.constructor ? Object.getPrototypeOf(e) : Object.prototype;\n  if (null === o) return !0;\n  var t = o.constructor;\n  return \"function\" == typeof t && t instanceof t && j(t) === j(Object);\n}\n\nfunction H(e, o, t, n) {\n  e.addEventListener(o, t, function () {\n    var e = !1;\n\n    try {\n      var o = Object.defineProperty({}, \"passive\", {\n        get: function () {\n          e = !0;\n        }\n      });\n      window.addEventListener(\"test\", o, o), window.removeEventListener(\"test\", o, o);\n    } catch (o) {\n      e = !1;\n    }\n\n    return e;\n  }() ? {\n    capture: n,\n    passive: !0\n  } : n);\n}\n\nvar R,\n    K = !(\"undefined\" == typeof window || !window.document || !window.document.createElement);\nR = K ? window : \"undefined\" != typeof self ? self : void 0;\nvar G,\n    B = \"undefined\" != typeof document && document.attachEvent,\n    W = !1;\n\nif (K && !B) {\n  var V = function () {\n    var e = R.requestAnimationFrame || R.mozRequestAnimationFrame || R.webkitRequestAnimationFrame || function (e) {\n      return R.setTimeout(e, 20);\n    };\n\n    return function (o) {\n      return e(o);\n    };\n  }(),\n      F = (G = R.cancelAnimationFrame || R.mozCancelAnimationFrame || R.webkitCancelAnimationFrame || R.clearTimeout, function (e) {\n    return G(e);\n  }),\n      $ = function (e) {\n    var o = e.__resizeTriggers__,\n        t = o.firstElementChild,\n        n = o.lastElementChild,\n        i = t.firstElementChild;\n    n.scrollLeft = n.scrollWidth, n.scrollTop = n.scrollHeight, i.style.width = t.offsetWidth + 1 + \"px\", i.style.height = t.offsetHeight + 1 + \"px\", t.scrollLeft = t.scrollWidth, t.scrollTop = t.scrollHeight;\n  },\n      q = function (e) {\n    var o = this;\n    $(this), this.__resizeRAF__ && F(this.__resizeRAF__), this.__resizeRAF__ = V(function () {\n      (function (e) {\n        return e.offsetWidth != e.__resizeLast__.width || e.offsetHeight != e.__resizeLast__.height;\n      })(o) && (o.__resizeLast__.width = o.offsetWidth, o.__resizeLast__.height = o.offsetHeight, o.__resizeListeners__.forEach(function (t) {\n        t.call(o, e);\n      }));\n    });\n  },\n      Y = !1,\n      X = \"\",\n      J = \"animationstart\",\n      Q = \"Webkit Moz O ms\".split(\" \"),\n      ee = \"webkitAnimationStart animationstart oAnimationStart MSAnimationStart\".split(\" \");\n\n  if (K) {\n    var oe = document.createElement(\"fakeelement\");\n    if (void 0 !== oe.style.animationName && (Y = !0), !1 === Y) for (var te = 0; te < Q.length; te++) if (void 0 !== oe.style[Q[te] + \"AnimationName\"]) {\n      X = \"-\" + Q[te].toLowerCase() + \"-\", J = ee[te], Y = !0;\n      break;\n    }\n  }\n\n  var ne = \"resizeanim\",\n      ie = \"@\" + X + \"keyframes \" + ne + \" { from { opacity: 0; } to { opacity: 0; } } \",\n      re = X + \"animation: 1ms \" + ne + \"; \";\n}\n\nvar se = void 0 !== n.createPortal,\n    ae = se ? n.createPortal : n.unstable_renderSubtreeIntoContainer,\n    pe = function (e) {\n  return U(e) ? e : {\n    lat: e[0],\n    lng: e[1]\n  };\n},\n    le = function (e, o) {\n  return \"production\" !== process.env.NODE_ENV && e < o && console.warn(\"GoogleMap: minZoom option is less than recommended minZoom option for your map sizes.\\noverrided to value \" + o), o < e ? e : o;\n},\n    ue = function (o) {\n  function t(t) {\n    var i;\n\n    if ((i = o.call(this, t) || this)._getMinZoom = function () {\n      if (i.geoService_.getWidth() > 0 || i.geoService_.getHeight() > 0) {\n        var e = Math.ceil(i.geoService_.getWidth() / 256) + 2,\n            o = Math.ceil(i.geoService_.getHeight() / 256) + 2,\n            t = Math.max(e, o);\n        return Math.ceil(T(t));\n      }\n\n      return 3;\n    }, i._computeMinZoom = function (e) {\n      return P(e) ? i._getMinZoom() : e;\n    }, i._mapDomResizeCallback = function () {\n      if (i.resetSizeOnIdle_ = !0, i.maps_) {\n        var e = i.props.center || i.props.defaultCenter,\n            o = i.map_.getCenter();\n        i.maps_.event.trigger(i.map_, \"resize\"), i.map_.setCenter(i.props.resetBoundsOnResize ? e : o);\n      }\n    }, i._setLayers = function (e) {\n      e.forEach(function (e) {\n        i.layers_[e] = new i.maps_[e](), i.layers_[e].setMap(i.map_);\n      });\n    }, i._renderPortal = function () {\n      return e.createElement(v, {\n        experimental: i.props.experimental,\n        onChildClick: i._onChildClick,\n        onChildMouseDown: i._onChildMouseDown,\n        onChildMouseEnter: i._onChildMouseEnter,\n        onChildMouseLeave: i._onChildMouseLeave,\n        geoService: i.geoService_,\n        insideMapPanes: !0,\n        distanceToMouse: i.props.distanceToMouse,\n        getHoverDistance: i._getHoverDistance,\n        dispatcher: i.markersDispatcher_\n      });\n    }, i._initMap = function () {\n      if (!i.initialized_) {\n        i.initialized_ = !0;\n        var e = pe(i.props.center || i.props.defaultCenter);\n        i.geoService_.setView(e, i.props.zoom || i.props.defaultZoom, 0), i._onBoundsChanged();\n        var o = s({}, i.props.apiKey && {\n          key: i.props.apiKey\n        }, i.props.bootstrapURLKeys);\n        i.props.googleMapLoader(o, i.props.heatmapLibrary).then(function (e) {\n          if (i.mounted_) {\n            var o,\n                t,\n                r = i.geoService_.getCenter(),\n                a = {\n              zoom: i.props.zoom || i.props.defaultZoom,\n              center: new e.LatLng(r.lat, r.lng)\n            };\n            i.props.heatmap.positions && (Object.assign(p(i), {\n              heatmap: (o = e, t = i.props.heatmap, new o.visualization.HeatmapLayer({\n                data: t.positions.reduce(function (e, t) {\n                  var n = t.weight,\n                      i = void 0 === n ? 1 : n;\n                  return e.push({\n                    location: new o.LatLng(t.lat, t.lng),\n                    weight: i\n                  }), e;\n                }, [])\n              }))\n            }), function (e, o) {\n              var t = o.options,\n                  n = void 0 === t ? {} : t;\n              Object.keys(n).map(function (o) {\n                return e.set(o, n[o]);\n              });\n            }(i.heatmap, i.props.heatmap));\n\n            var l = E(e, U),\n                u = \"function\" == typeof i.props.options ? i.props.options(l) : i.props.options,\n                h = !P(i.props.draggable) && {\n              draggable: i.props.draggable\n            },\n                c = i._computeMinZoom(u.minZoom);\n\n            i.minZoom_ = c;\n            var d = s({}, {\n              overviewMapControl: !1,\n              streetViewControl: !1,\n              rotateControl: !0,\n              mapTypeControl: !1,\n              styles: [{\n                featureType: \"poi\",\n                elementType: \"labels\",\n                stylers: [{\n                  visibility: \"off\"\n                }]\n              }],\n              minZoom: 3\n            }, {\n              minZoom: c\n            }, u, a);\n            i.defaultDraggableOption_ = P(d.draggable) ? i.defaultDraggableOption_ : d.draggable;\n            var m = s({}, d, h);\n            m.minZoom = le(m.minZoom, c);\n            var g = new e.Map(n.findDOMNode(i.googleMapDom_), m);\n            i.map_ = g, i.maps_ = e, i._setLayers(i.props.layerTypes);\n\n            var _ = e.version.match(/^3\\.(\\d+)\\./),\n                f = _ && Number(_[1]),\n                v = p(i),\n                M = Object.assign(new e.OverlayView(), {\n              onAdd: function () {\n                var o = \"undefined\" != typeof screen ? screen.width + \"px\" : \"2000px\",\n                    t = \"undefined\" != typeof screen ? screen.height + \"px\" : \"2000px\",\n                    n = document.createElement(\"div\");\n\n                if (n.style.backgroundColor = \"transparent\", n.style.position = \"absolute\", n.style.left = \"0px\", n.style.top = \"0px\", n.style.width = o, n.style.height = t, v.props.overlayViewDivStyle) {\n                  var i = v.props.overlayViewDivStyle;\n                  \"object\" == typeof i && Object.keys(i).forEach(function (e) {\n                    n.style[e] = i[e];\n                  });\n                }\n\n                this.getPanes().overlayMouseTarget.appendChild(n), v.geoService_.setMapCanvasProjection(e, M.getProjection()), se ? v.setState({\n                  overlay: n\n                }) : ae(v, v._renderPortal(), n, function () {\n                  return v.setState({\n                    overlay: n\n                  });\n                });\n              },\n              onRemove: function () {\n                var e = v.state.overlay;\n                e && !se && n.unmountComponentAtNode(e), v.setState({\n                  overlay: null\n                });\n              },\n              draw: function () {\n                if (v.updateCounter_++, v._onBoundsChanged(g, e, !v.props.debounced), v.googleApiLoadedCalled_ || (v._onGoogleApiLoaded({\n                  map: g,\n                  maps: e,\n                  ref: v.googleMapDom_\n                }), v.googleApiLoadedCalled_ = !0), v.mouse_) {\n                  var o = v.geoService_.fromContainerPixelToLatLng(v.mouse_);\n                  v.mouse_.lat = o.lat, v.mouse_.lng = o.lng;\n                }\n\n                v._onChildMouseMove(), v.markersDispatcher_ && (v.markersDispatcher_.emit(\"kON_CHANGE\"), v.fireMouseEventOnIdle_ && v.markersDispatcher_.emit(\"kON_MOUSE_POSITION_CHANGE\"));\n              }\n            });\n\n            i.overlay_ = M, M.setMap(g), i.props.heatmap.positions && i.heatmap.setMap(g), i.props.onTilesLoaded && e.event.addListener(g, \"tilesloaded\", function () {\n              v._onTilesLoaded();\n            }), e.event.addListener(g, \"zoom_changed\", function () {\n              v.geoService_.getZoom() !== g.getZoom() && (v.zoomAnimationInProgress_ || (v.zoomAnimationInProgress_ = !0, v._onZoomAnimationStart(g.zoom)), f < 32) && (new Date().getTime() - i.zoomControlClickTime_ < 300 ? S(function () {\n                return S(function () {\n                  v.updateCounter_++, v._onBoundsChanged(g, e);\n                });\n              }) : (v.updateCounter_++, v._onBoundsChanged(g, e)));\n            }), e.event.addListener(g, \"idle\", function () {\n              if (i.resetSizeOnIdle_) {\n                i._setViewSize();\n\n                var o = i._computeMinZoom(u.minZoom);\n\n                o !== i.minZoom_ && (i.minZoom_ = o, g.setOptions({\n                  minZoom: o\n                })), i.resetSizeOnIdle_ = !1;\n              }\n\n              v.zoomAnimationInProgress_ && (v.zoomAnimationInProgress_ = !1, v._onZoomAnimationEnd(g.zoom)), v.updateCounter_++, v._onBoundsChanged(g, e), v.dragTime_ = 0, v.markersDispatcher_ && v.markersDispatcher_.emit(\"kON_CHANGE\");\n            }), e.event.addListener(g, \"mouseover\", function () {\n              v.mouseInMap_ = !0;\n            }), e.event.addListener(g, \"click\", function () {\n              v.mouseInMap_ = !0;\n            }), e.event.addListener(g, \"mouseout\", function () {\n              v.mouseInMap_ = !1, v.mouse_ = null, v.markersDispatcher_.emit(\"kON_MOUSE_POSITION_CHANGE\");\n            }), e.event.addListener(g, \"drag\", function () {\n              v.dragTime_ = new Date().getTime(), v._onDrag(g);\n            }), e.event.addListener(g, \"dragend\", function () {\n              var o = e.event.addListener(g, \"idle\", function () {\n                e.event.removeListener(o), v._onDragEnd(g);\n              });\n            }), e.event.addListener(g, \"maptypeid_changed\", function () {\n              v._onMapTypeIdChange(g.getMapTypeId());\n            });\n          }\n        }).catch(function (e) {\n          throw i._onGoogleApiLoaded({\n            map: null,\n            maps: null,\n            ref: i.googleMapDom_\n          }), console.error(e), e;\n        });\n      }\n    }, i._onGoogleApiLoaded = function () {\n      var e;\n      i.props.onGoogleApiLoaded && (\"production\" !== process.env.NODE_ENV && !0 !== i.props.yesIWantToUseGoogleMapApiInternals && console.warn(\"GoogleMap: Usage of internal api objects is dangerous and can cause a lot of issues.\\nTo hide this warning add yesIWantToUseGoogleMapApiInternals={true} to <GoogleMap instance\"), (e = i.props).onGoogleApiLoaded.apply(e, arguments));\n    }, i._getHoverDistance = function () {\n      return i.props.hoverDistance;\n    }, i._onDrag = function () {\n      var e;\n      return i.props.onDrag && (e = i.props).onDrag.apply(e, arguments);\n    }, i._onDragEnd = function () {\n      var e;\n      return i.props.onDragEnd && (e = i.props).onDragEnd.apply(e, arguments);\n    }, i._onMapTypeIdChange = function () {\n      var e;\n      return i.props.onMapTypeIdChange && (e = i.props).onMapTypeIdChange.apply(e, arguments);\n    }, i._onZoomAnimationStart = function () {\n      var e;\n      return i.props.onZoomAnimationStart && (e = i.props).onZoomAnimationStart.apply(e, arguments);\n    }, i._onZoomAnimationEnd = function () {\n      var e;\n      return i.props.onZoomAnimationEnd && (e = i.props).onZoomAnimationEnd.apply(e, arguments);\n    }, i._onTilesLoaded = function () {\n      return i.props.onTilesLoaded && i.props.onTilesLoaded();\n    }, i._onChildClick = function () {\n      var e;\n      if (i.props.onChildClick) return (e = i.props).onChildClick.apply(e, arguments);\n    }, i._onChildMouseDown = function (e, o) {\n      i.childMouseDownArgs_ = [e, o], i.props.onChildMouseDown && i.props.onChildMouseDown(e, o, s({}, i.mouse_));\n    }, i._onChildMouseUp = function () {\n      var e;\n      i.childMouseDownArgs_ && (i.props.onChildMouseUp && (e = i.props).onChildMouseUp.apply(e, i.childMouseDownArgs_.concat([s({}, i.mouse_)])), i.childMouseDownArgs_ = null, i.childMouseUpTime_ = new Date().getTime());\n    }, i._onChildMouseMove = function () {\n      var e;\n      i.childMouseDownArgs_ && i.props.onChildMouseMove && (e = i.props).onChildMouseMove.apply(e, i.childMouseDownArgs_.concat([s({}, i.mouse_)]));\n    }, i._onChildMouseEnter = function () {\n      var e;\n      if (i.props.onChildMouseEnter) return (e = i.props).onChildMouseEnter.apply(e, arguments);\n    }, i._onChildMouseLeave = function () {\n      var e;\n      if (i.props.onChildMouseLeave) return (e = i.props).onChildMouseLeave.apply(e, arguments);\n    }, i._setViewSize = function () {\n      if (i.mounted_) {\n        if (document.fullscreen || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement) i.geoService_.setViewSize(window.innerWidth, window.innerHeight);else {\n          var e = n.findDOMNode(i.googleMapDom_);\n          i.geoService_.setViewSize(e.clientWidth, e.clientHeight);\n        }\n\n        i._onBoundsChanged();\n      }\n    }, i._onWindowResize = function () {\n      i.resetSizeOnIdle_ = !0;\n    }, i._onMapMouseMove = function (e) {\n      if (i.mouseInMap_) {\n        var o = new Date().getTime();\n        o - i.mouseMoveTime_ > 50 && (i.boundingRect_ = e.currentTarget.getBoundingClientRect()), i.mouseMoveTime_ = o;\n        var t = e.clientX - i.boundingRect_.left,\n            n = e.clientY - i.boundingRect_.top;\n        i.mouse_ || (i.mouse_ = {\n          x: 0,\n          y: 0,\n          lat: 0,\n          lng: 0\n        }), i.mouse_.x = t, i.mouse_.y = n;\n        var r = i.geoService_.fromContainerPixelToLatLng(i.mouse_);\n        i.mouse_.lat = r.lat, i.mouse_.lng = r.lng, i._onChildMouseMove(), o - i.dragTime_ < 100 ? i.fireMouseEventOnIdle_ = !0 : (i.markersDispatcher_.emit(\"kON_MOUSE_POSITION_CHANGE\"), i.fireMouseEventOnIdle_ = !1);\n      }\n    }, i._onClick = function () {\n      var e;\n      return i.props.onClick && !i.childMouseDownArgs_ && new Date().getTime() - i.childMouseUpTime_ > 300 && 0 === i.dragTime_ && (e = i.props).onClick.apply(e, arguments);\n    }, i._onMapClick = function (e) {\n      i.markersDispatcher_ && (i._onMapMouseMove(e), new Date().getTime() - i.dragTime_ > 100 && (i.mouse_ && i._onClick(s({}, i.mouse_, {\n        event: e\n      })), i.markersDispatcher_.emit(\"kON_CLICK\", e)));\n    }, i._onMapMouseDownNative = function (e) {\n      i.mouseInMap_ && i._onMapMouseDown(e);\n    }, i._onMapMouseDown = function (e) {\n      i.markersDispatcher_ && new Date().getTime() - i.dragTime_ > 100 && (i._onMapMouseMove(e), i.markersDispatcher_.emit(\"kON_MDOWN\", e));\n    }, i._onMapMouseDownCapture = function () {\n      Z().isChrome && (i.zoomControlClickTime_ = new Date().getTime());\n    }, i._onKeyDownCapture = function () {\n      Z().isChrome && (i.zoomControlClickTime_ = new Date().getTime());\n    }, i._isCenterDefined = function (e) {\n      return e && (U(e) && I(e.lat) && I(e.lng) || 2 === e.length && I(e[0]) && I(e[1]));\n    }, i._onBoundsChanged = function (e, o, t) {\n      if (e) {\n        var n = e.getCenter();\n        i.geoService_.setView([n.lat(), n.lng()], e.getZoom(), 0);\n      }\n\n      if ((i.props.onChange || i.props.onBoundsChange) && i.geoService_.canProject()) {\n        var r = i.geoService_.getZoom(),\n            a = i.geoService_.getBounds(),\n            p = i.geoService_.getCenter();\n\n        if (!function (e, o, t) {\n          if (e && o) {\n            for (var n = 0; n !== e.length; ++n) if (Math.abs(e[n] - o[n]) > 1e-5) return !1;\n\n            return !0;\n          }\n\n          return !1;\n        }(a, i.prevBounds_) && !1 !== t) {\n          var l = i.geoService_.getBounds(i.props.margin);\n          i.props.onBoundsChange && i.props.onBoundsChange(i.centerIsObject_ ? s({}, p) : [p.lat, p.lng], r, a, l), i.props.onChange && i.props.onChange({\n            center: s({}, p),\n            zoom: r,\n            bounds: {\n              nw: {\n                lat: a[0],\n                lng: a[1]\n              },\n              se: {\n                lat: a[2],\n                lng: a[3]\n              },\n              sw: {\n                lat: a[4],\n                lng: a[5]\n              },\n              ne: {\n                lat: a[6],\n                lng: a[7]\n              }\n            },\n            marginBounds: {\n              nw: {\n                lat: l[0],\n                lng: l[1]\n              },\n              se: {\n                lat: l[2],\n                lng: l[3]\n              },\n              sw: {\n                lat: l[4],\n                lng: l[5]\n              },\n              ne: {\n                lat: l[6],\n                lng: l[7]\n              }\n            },\n            size: i.geoService_.hasSize() ? {\n              width: i.geoService_.getWidth(),\n              height: i.geoService_.getHeight()\n            } : {\n              width: 0,\n              height: 0\n            }\n          }), i.prevBounds_ = a;\n        }\n      }\n    }, i._registerChild = function (e) {\n      i.googleMapDom_ = e;\n    }, i.mounted_ = !1, i.initialized_ = !1, i.googleApiLoadedCalled_ = !1, i.map_ = null, i.maps_ = null, i.prevBounds_ = null, i.heatmap = null, i.layers_ = {}, i.mouse_ = null, i.mouseMoveTime_ = 0, i.boundingRect_ = null, i.mouseInMap_ = !0, i.dragTime_ = 0, i.fireMouseEventOnIdle_ = !1, i.updateCounter_ = 0, i.markersDispatcher_ = new h(p(i)), i.geoService_ = new x(256), i.centerIsObject_ = U(i.props.center), i.minZoom_ = 3, i.defaultDraggableOption_ = !0, i.zoomControlClickTime_ = 0, i.childMouseDownArgs_ = null, i.childMouseUpTime_ = 0, i.googleMapDom_ = null, \"production\" !== process.env.NODE_ENV && (i.props.apiKey && console.warn(\"GoogleMap: apiKey is deprecated, use bootstrapURLKeys={{key: YOUR_API_KEY}} instead.\"), i.props.onBoundsChange && console.warn(\"GoogleMap: onBoundsChange is deprecated, use onChange({center, zoom, bounds, ...other}) instead.\"), P(i.props.center) && P(i.props.defaultCenter) && console.warn(\"GoogleMap: center or defaultCenter property must be defined\"), P(i.props.zoom) && P(i.props.defaultZoom) && console.warn(\"GoogleMap: zoom or defaultZoom property must be defined\")), i._isCenterDefined(i.props.center || i.props.defaultCenter)) {\n      var r = pe(i.props.center || i.props.defaultCenter);\n      i.geoService_.setView(r, i.props.zoom || i.props.defaultZoom, 0);\n    }\n\n    return i.zoomAnimationInProgress_ = !1, i.state = {\n      overlay: null\n    }, i;\n  }\n\n  a(t, o);\n  var i = t.prototype;\n  return i.componentDidMount = function () {\n    var e = this;\n    this.mounted_ = !0, H(window, \"resize\", this._onWindowResize, !1), H(window, \"keydown\", this._onKeyDownCapture, !0);\n    var o = n.findDOMNode(this.googleMapDom_);\n    o && H(o, \"mousedown\", this._onMapMouseDownNative, !0), H(window, \"mouseup\", this._onChildMouseUp, !1);\n    var t = s({}, this.props.apiKey && {\n      key: this.props.apiKey\n    }, this.props.bootstrapURLKeys);\n    this.props.googleMapLoader(t, this.props.heatmapLibrary), setTimeout(function () {\n      e._setViewSize(), e._isCenterDefined(e.props.center || e.props.defaultCenter) && e._initMap();\n    }, 0, this), this.props.resetBoundsOnResize && function (e, o) {\n      if (void 0 === e.parentNode) {\n        var t = document.createElement(\"div\");\n        e.parentNode = t;\n      }\n\n      e = e.parentNode, B ? e.attachEvent(\"onresize\", o) : (e.__resizeTriggers__ || (\"static\" == getComputedStyle(e).position && (e.style.position = \"relative\"), function () {\n        if (!W) {\n          var e = (ie || \"\") + \".resize-triggers { \" + (re || \"\") + 'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n              o = document.head || document.getElementsByTagName(\"head\")[0],\n              t = document.createElement(\"style\");\n          t.type = \"text/css\", t.styleSheet ? t.styleSheet.cssText = e : t.appendChild(document.createTextNode(e)), o.appendChild(t), W = !0;\n        }\n      }(), e.__resizeLast__ = {}, e.__resizeListeners__ = [], (e.__resizeTriggers__ = document.createElement(\"div\")).className = \"resize-triggers\", e.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div><div class=\"contract-trigger\"></div>', e.appendChild(e.__resizeTriggers__), $(e), H(e, \"scroll\", q, !0), J && e.__resizeTriggers__.addEventListener(J, function (o) {\n        o.animationName == ne && $(e);\n      })), e.__resizeListeners__.push(o));\n    }(o, this._mapDomResizeCallback);\n  }, i.UNSAFE_componentWillReceiveProps = function (e) {\n    var o = this;\n\n    if (\"production\" !== process.env.NODE_ENV && (g(this.props.defaultCenter, e.defaultCenter) || console.warn(\"GoogleMap: defaultCenter prop changed. You can't change default props.\"), g(this.props.defaultZoom, e.defaultZoom) || console.warn(\"GoogleMap: defaultZoom prop changed. You can't change default props.\")), !this._isCenterDefined(this.props.center) && this._isCenterDefined(e.center) && setTimeout(function () {\n      return o._initMap();\n    }, 0), this.map_) {\n      var t = this.geoService_.getCenter();\n\n      if (this._isCenterDefined(e.center)) {\n        var n = pe(e.center),\n            i = this._isCenterDefined(this.props.center) ? pe(this.props.center) : null;\n        (!i || Math.abs(n.lat - i.lat) + Math.abs(n.lng - i.lng) > 1e-5) && Math.abs(n.lat - t.lat) + Math.abs(n.lng - t.lng) > 1e-5 && this.map_.panTo({\n          lat: n.lat,\n          lng: n.lng\n        });\n      }\n\n      if (P(e.zoom) || Math.abs(e.zoom - this.props.zoom) > 0 && this.map_.setZoom(e.zoom), !P(this.props.draggable) && P(e.draggable) ? this.map_.setOptions({\n        draggable: this.defaultDraggableOption_\n      }) : g(this.props.draggable, e.draggable) || this.map_.setOptions({\n        draggable: e.draggable\n      }), !P(e.options) && !g(this.props.options, e.options)) {\n        var r = E(this.maps_, U),\n            s = \"function\" == typeof e.options ? e.options(r) : e.options;\n\n        if (\"minZoom\" in (s = c(s, [\"zoom\", \"center\", \"draggable\"]))) {\n          var a = this._computeMinZoom(s.minZoom);\n\n          s.minZoom = le(s.minZoom, a);\n        }\n\n        this.map_.setOptions(s);\n      }\n\n      g(e.layerTypes, this.props.layerTypes) || (Object.keys(this.layers_).forEach(function (e) {\n        o.layers_[e].setMap(null), delete o.layers_[e];\n      }), this._setLayers(e.layerTypes)), this.heatmap && !g(e.heatmap.positions, this.props.heatmap.positions) && this.heatmap.setData(e.heatmap.positions.map(function (e) {\n        return {\n          location: new o.maps_.LatLng(e.lat, e.lng),\n          weight: e.weight\n        };\n      })), this.heatmap && !g(e.heatmap.options, this.props.heatmap.options) && Object.keys(e.heatmap.options).forEach(function (t) {\n        o.heatmap.set(t, e.heatmap.options[t]);\n      });\n    }\n  }, i.shouldComponentUpdate = function (e, o) {\n    return !g(c(this.props, [\"draggable\"]), c(e, [\"draggable\"])) || !g(this.state, o);\n  }, i.componentDidUpdate = function (e) {\n    this.markersDispatcher_.emit(\"kON_CHANGE\"), g(this.props.hoverDistance, e.hoverDistance) || this.markersDispatcher_.emit(\"kON_MOUSE_POSITION_CHANGE\");\n  }, i.componentWillUnmount = function () {\n    this.mounted_ = !1;\n    var e,\n        o,\n        t = n.findDOMNode(this.googleMapDom_);\n    t && t.removeEventListener(\"mousedown\", this._onMapMouseDownNative, !0), window.removeEventListener(\"resize\", this._onWindowResize), window.removeEventListener(\"keydown\", this._onKeyDownCapture), window.removeEventListener(\"mouseup\", this._onChildMouseUp, !1), this.props.resetBoundsOnResize && (o = this._mapDomResizeCallback, e = (e = t).parentNode, B ? e.detachEvent(\"onresize\", o) : (e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(o), 1), e.__resizeListeners__.length || (e.removeEventListener(\"scroll\", q), e.__resizeTriggers__ = !e.removeChild(e.__resizeTriggers__)))), this.overlay_ && this.overlay_.setMap(null), this.maps_ && this.map_ && this.props.shouldUnregisterMapOnUnmount && (this.map_.setOptions({\n      scrollwheel: !1\n    }), this.maps_.event.clearInstanceListeners(this.map_)), this.props.shouldUnregisterMapOnUnmount && (this.map_ = null, this.maps_ = null), this.markersDispatcher_.dispose(), this.resetSizeOnIdle_ = !1, this.props.shouldUnregisterMapOnUnmount && (delete this.map_, delete this.markersDispatcher_);\n  }, i.render = function () {\n    var o = this.state.overlay,\n        t = o ? null : e.createElement(y, {\n      experimental: this.props.experimental,\n      onChildClick: this._onChildClick,\n      onChildMouseDown: this._onChildMouseDown,\n      onChildMouseEnter: this._onChildMouseEnter,\n      onChildMouseLeave: this._onChildMouseLeave,\n      geoService: this.geoService_,\n      insideMapPanes: !1,\n      distanceToMouse: this.props.distanceToMouse,\n      getHoverDistance: this._getHoverDistance,\n      dispatcher: this.markersDispatcher_\n    });\n    return e.createElement(\"div\", {\n      style: this.props.style,\n      onMouseMove: this._onMapMouseMove,\n      onMouseDownCapture: this._onMapMouseDownCapture,\n      onClick: this._onMapClick\n    }, e.createElement(u, {\n      registerChild: this._registerChild\n    }), se && o && ae(this._renderPortal(), o), t);\n  }, t;\n}(o);\n\nfunction he(e) {\n  var o = e.lng,\n      t = Math.sin(e.lat * Math.PI / 180),\n      n = o / 360 + .5,\n      i = .5 - .25 * Math.log((1 + t) / (1 - t)) / Math.PI;\n  return {\n    x: n,\n    y: i = i < 0 ? 0 : i > 1 ? 1 : i\n  };\n}\n\nfunction ce(e) {\n  var o = e.x,\n      t = Math.PI - 2 * Math.PI * e.y;\n  return {\n    lat: 180 / Math.PI * Math.atan(.5 * (Math.exp(t) - Math.exp(-t))),\n    lng: 360 * o - 180\n  };\n}\n\nfunction de(e, o, t, n) {\n  var i = he(e),\n      r = he(o),\n      s = i.x < r.x ? r.x - i.x : 1 - i.x + r.x,\n      a = r.y - i.y;\n  if (s <= 0 && a <= 0) return null;\n\n  var p = T(t / 256 / Math.abs(s)),\n      l = T(n / 256 / Math.abs(a)),\n      u = Math.floor(1e-9 + Math.min(p, l)),\n      h = {\n    x: i.x < r.x ? .5 * (i.x + r.x) : i.x + r.x - 1 > 0 ? .5 * (i.x + r.x - 1) : .5 * (1 + i.x + r.x),\n    y: .5 * (i.y + r.y)\n  },\n      c = Math.pow(2, u),\n      d = t / c / 256 / 2,\n      m = n / c / 256 / 2,\n      g = ce({\n    x: h.x - d,\n    y: h.y - m\n  }),\n      _ = ce({\n    x: h.x + d,\n    y: h.y + m\n  });\n\n  return {\n    center: ce(h),\n    zoom: u,\n    newBounds: {\n      nw: g,\n      se: _\n    }\n  };\n}\n\nfunction me(e) {\n  var o = e.ne,\n      t = e.sw;\n  return {\n    nw: {\n      lat: o.lat,\n      lng: t.lng\n    },\n    se: {\n      lat: t.lat,\n      lng: o.lng\n    }\n  };\n}\n\nfunction ge(e) {\n  var o = e.nw,\n      t = e.se;\n  return {\n    ne: {\n      lat: o.lat,\n      lng: t.lng\n    },\n    sw: {\n      lat: t.lat,\n      lng: o.lng\n    }\n  };\n}\n\nfunction _e(e, o) {\n  var t,\n      n = e.nw,\n      i = e.se,\n      r = e.ne,\n      a = e.sw,\n      p = o.width,\n      l = o.height;\n  if (n && i) t = de(n, i, p, l);else {\n    var u = me({\n      ne: r,\n      sw: a\n    });\n    t = de(u.nw, u.se, p, l);\n  }\n  return s({}, t, {\n    newBounds: s({}, t.newBounds, ge(t.newBounds))\n  });\n}\n\nfunction fe(e, o, t) {\n  var n = function (e, o) {\n    var t = function (e, o) {\n      var t,\n          n = o.lat,\n          i = o.lng,\n          r = (t = n * Math.PI / 180, {\n        metersPerLatDegree: 111132.92 - 559.82 * Math.cos(2 * t) + 1.175 * Math.cos(4 * t) - .0023 * Math.cos(6 * t),\n        metersPerLngDegree: 111412.84 * Math.cos(t) - 93.5 * Math.cos(3 * t) + .118 * Math.cos(5 * t)\n      }),\n          s = .5 * e / r.metersPerLatDegree,\n          a = .5 * e / r.metersPerLngDegree;\n      return {\n        nw: {\n          lat: n - s,\n          lng: i - a\n        },\n        se: {\n          lat: n + s,\n          lng: i + a\n        }\n      };\n    }(e, {\n      lat: o.lat,\n      lng: o.lng\n    }),\n        n = t.se,\n        i = he(t.nw),\n        r = he(n);\n\n    return {\n      w: Math.abs(r.x - i.x),\n      h: Math.abs(r.y - i.y)\n    };\n  }(e, {\n    lat: o.lat,\n    lng: o.lng\n  }),\n      i = n.w,\n      r = n.h,\n      s = Math.pow(2, t);\n\n  return {\n    w: i * s * 256,\n    h: r * s * 256\n  };\n}\n\nfunction ve(e, o) {\n  var t = e.x,\n      n = Math.PI - 2 * Math.PI * e.y / Math.pow(2, o);\n  return {\n    lat: 180 / Math.PI * Math.atan(.5 * (Math.exp(n) - Math.exp(-n))),\n    lng: t / Math.pow(2, o) * 360 - 180\n  };\n}\n\nfunction Me(e, o) {\n  var t = he({\n    lat: e.lat,\n    lng: e.lng\n  }),\n      n = Math.pow(2, o);\n  return {\n    x: Math.floor(t.x * n),\n    y: Math.floor(t.y * n)\n  };\n}\n\nfunction ye(e, o) {\n  for (var t = e.from, n = e.to, i = Math.pow(2, o), r = [], s = t.x; s !== (n.x + 1) % i; s = (s + 1) % i) for (var a = t.y; a !== (n.y + 1) % i; a = (a + 1) % i) r.push([o, s, a]);\n\n  return r;\n}\n\nue.propTypes = {\n  apiKey: t.string,\n  bootstrapURLKeys: t.any,\n  defaultCenter: t.oneOfType([t.array, t.shape({\n    lat: t.number,\n    lng: t.number\n  })]),\n  center: t.oneOfType([t.array, t.shape({\n    lat: t.number,\n    lng: t.number\n  })]),\n  defaultZoom: t.number,\n  zoom: t.number,\n  onBoundsChange: t.func,\n  onChange: t.func,\n  onClick: t.func,\n  onChildClick: t.func,\n  onChildMouseDown: t.func,\n  onChildMouseUp: t.func,\n  onChildMouseMove: t.func,\n  onChildMouseEnter: t.func,\n  onChildMouseLeave: t.func,\n  onZoomAnimationStart: t.func,\n  onZoomAnimationEnd: t.func,\n  onDrag: t.func,\n  onDragEnd: t.func,\n  onMapTypeIdChange: t.func,\n  onTilesLoaded: t.func,\n  options: t.any,\n  distanceToMouse: t.func,\n  hoverDistance: t.number,\n  debounced: t.bool,\n  margin: t.array,\n  googleMapLoader: t.any,\n  onGoogleApiLoaded: t.func,\n  yesIWantToUseGoogleMapApiInternals: t.bool,\n  draggable: t.bool,\n  style: t.any,\n  resetBoundsOnResize: t.bool,\n  layerTypes: t.arrayOf(t.string),\n  shouldUnregisterMapOnUnmount: t.bool\n}, ue.defaultProps = {\n  distanceToMouse: function (e, o) {\n    return Math.sqrt((e.x - o.x) * (e.x - o.x) + (e.y - o.y) * (e.y - o.y));\n  },\n  hoverDistance: 30,\n  debounced: !0,\n  options: function () {\n    return {\n      overviewMapControl: !1,\n      streetViewControl: !1,\n      rotateControl: !0,\n      mapTypeControl: !1,\n      styles: [{\n        featureType: \"poi\",\n        elementType: \"labels\",\n        stylers: [{\n          visibility: \"off\"\n        }]\n      }],\n      minZoom: 3\n    };\n  },\n  googleMapLoader: D,\n  yesIWantToUseGoogleMapApiInternals: !1,\n  style: {\n    width: \"100%\",\n    height: \"100%\",\n    margin: 0,\n    padding: 0,\n    position: \"relative\"\n  },\n  layerTypes: [],\n  heatmap: {},\n  heatmapLibrary: !1,\n  shouldUnregisterMapOnUnmount: !0\n}, ue.googleMapLoader = D;\nexport default ue;\nexport { me as convertNeSwToNwSe, ge as convertNwSeToNeSw, _e as fitBounds, ye as getTilesIds, Me as latLng2Tile, fe as meters2ScreenPixels, ve as tile2LatLng };","map":{"version":3,"sources":["../src/google_map_map.js","../src/marker_dispatcher.js","../src/utils/omit.js","../src/utils/shallowEqual.js","../src/google_map_markers.js","../src/google_map_markers_prerender.js","../src/loaders/google_map_loader.js","../src/lib/geo/wrap.js","../src/lib/geo/lat_lng.js","../src/lib/geo/transform.js","../src/lib/geo/index.js","../src/utils/raf.js","../src/utils/log2.js","../src/utils/pick.js","../src/utils/isEmpty.js","../src/utils/isNumber.js","../src/utils/detect.js","../src/utils/isPlainObject.js","../src/utils/passiveEvents.js","../src/utils/detectElementResize.js","../src/google_map.js","../src/google_heatmap.js","../src/utils/isArraysEqualEps.js","../src/lib/index.js"],"names":["style","width","height","left","top","margin","padding","position","GoogleMapMap","Component","shouldComponentUpdate","render","registerChild","this","props","React","ref","MarkerDispatcher","EventEmitter","gmapInstance","_this","getChildren","children","getMousePosition","mouse_","getUpdateCounter","updateCounter_","dispose","removeAllListeners","omit","obj","keys","rest","i","length","key","hasOwnProperty","Object","prototype","is","x","y","shallowEqual","objA","objB","keysA","keysB","call","mainStyle","backgroundColor","GoogleMapMarkers","propTypes","geoService","PropTypes","any","distanceToMouse","func","dispatcher","onChildClick","onChildMouseDown","onChildMouseLeave","onChildMouseEnter","getHoverDistance","insideMapPanes","bool","prerender","defaultProps","dimensionsCache_","hoverKey_","hoverChildProps_","allowMouse_","state","_getState","hoverKey","componentDidMount","on","_onChangeHandler","_onMouseChangeHandler","_onChildClick","_onChildMouseDown","nextProps","nextState","experimental","componentWillUnmount","removeListener","updateCounter","prevChildCount","setState","_onChildMouseEnter","childProps","_onChildMouseLeave","_onMouseAllow","value","_onMouseChangeHandlerRaf","mp","distances","hoverDistance","Children","forEach","child","childIndex","latLng","undefined","lat","lng","childKey","dist","push","sort","a","b","_getDimensions","mainElementStyle","markers","map","cloneElement","$geoService","_this2","$onMouseAllow","$prerender","pt","fromLatLngToDivPixel","fromLatLngToCenterPixel","stylePtPos","seLatLng","seLat","seLng","sePt","containerPt","fromLatLngToContainerPixel","className","$markerHolderClassName","$hover","$getDimensions","$dimensionKey","$script_","loadPromise_","resolveCustomPromise_","_customPromise","Promise","resolve","bootstrapURLKeys","heatmapLibrary","require","reject","window","Error","google","maps","_$_google_map_initialize_$_","process","env","NODE_ENV","indexOf","message","console","error","params","reduce","r","wrap","n","min","max","d","LatLng","convert","Array","isArray","isNaN","Transform","tileSize","minZoom","maxZoom","_minZoom","_maxZoom","latRange","zoom","center","angle","Math","scale","Point","PI","bearing","_zoom","zoomV","zoomScale","tileZoom","floor","zoomFraction","pow","scaleZoom","log","LN2","project","latlng","worldSize","lngX","latY","unproject","point","yLat","xLng","lon","tan","atan","exp","locationPoint","p","centerPoint","_sub","_rotate","pointLocation","p2","sub","Geo","hasSize_","hasView_","transform_","setView","setViewSize","setMapCanvasProjection","mapCanvasProjection","maps_","mapCanvasProjection_","canProject","hasSize","ptLatLng","round","fromContainerPixelToLatLng","ptXY","ptxy","ptRes","getWidth","getHeight","getZoom","getCenter","getBounds","margins","roundFactor","bndT","bndR","bndB","bndL","topLeftCorner","bottomRightCorner","res","raf","callback","requestAnimationFrame","nativeRaf","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","log2","pick","fn","result","isEmpty","val","objectToString","toString","isNumber","isObjectLike","detectBrowserResult_","detectBrowser","navigator","isExplorer","userAgent","isFirefox","isOpera","toLowerCase","isChrome","isSafari","fnToString","Function","isPlainObject","proto","constructor","getPrototypeOf","passiveSupported","options","defineProperty","get","addEventListener","removeEventListener","err","addPassiveEventListener","element","eventName","capture","hasPassiveSupport","passive","canUseDOM","document","createElement","_window","self","attachEvent","stylesCreated","requestFrame","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","id","resetTriggers","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","offsetWidth","offsetHeight","__resizeLast__","scrollListener","e","__resizeRAF__","__resizeListeners__","animation","keyframeprefix","animationstartevent","domPrefixes","split","startEvents","elm","animationName","animationstring","animationKeyframes","animationStyle","css","head","getElementsByTagName","type","styleSheet","cssText","appendChild","createTextNode","parentNode","tempParentDiv","getComputedStyle","createStyles","innerHTML","detachEvent","splice","removeChild","IS_REACT_16","ReactDOM","createPortal","unstable_renderSubtreeIntoContainer","overviewMapControl","streetViewControl","rotateControl","mapTypeControl","styles","featureType","elementType","stylers","visibility","latLng2Obj","_checkMinZoom","warn","fullscreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement","GoogleMap","apiKey","string","defaultCenter","oneOfType","array","shape","number","defaultZoom","onBoundsChange","onChange","onClick","onChildMouseUp","onChildMouseMove","onZoomAnimationStart","onZoomAnimationEnd","onDrag","onDragEnd","onMapTypeIdChange","onTilesLoaded","debounced","googleMapLoader","onGoogleApiLoaded","yesIWantToUseGoogleMapApiInternals","draggable","resetBoundsOnResize","layerTypes","arrayOf","shouldUnregisterMapOnUnmount","mousePos","sqrt","heatmap","mounted_","initialized_","googleApiLoadedCalled_","map_","prevBounds_","layers_","mouseMoveTime_","boundingRect_","mouseInMap_","dragTime_","fireMouseEventOnIdle_","markersDispatcher_","geoService_","centerIsObject_","minZoom_","defaultDraggableOption_","zoomControlClickTime_","childMouseDownArgs_","childMouseUpTime_","googleMapDom_","_isCenterDefined","propsCenter","zoomAnimationInProgress_","overlay","_onWindowResize","_onKeyDownCapture","mapDom","findDOMNode","_onMapMouseDownNative","_onChildMouseUp","_setViewSize","_initMap","addResizeListener","_mapDomResizeCallback","UNSAFE_componentWillReceiveProps","_this3","centerLatLng","nextPropsCenter","currCenter","abs","panTo","setZoom","setOptions","mapPlainObjects","_computeMinZoom","layerKey","setMap","_setLayers","positions","setData","location","weight","option","set","componentDidUpdate","prevProps","emit","overlay_","scrollwheel","event","clearInstanceListeners","resetSizeOnIdle_","_getMinZoom","tilesPerWidth","ceil","tilesPerHeight","maxTilesPerDim","originalCenter","currentCenter","trigger","setCenter","layerType","_renderPortal","_getHoverDistance","_onBoundsChanged","then","propsOptions","assign","optionsHeatmap","draggableOptions","preMapOptions","mapOptions","Map","versionMatch","version","match","mapsVersion","Number","this_","OverlayView","onAdd","K_MAX_WIDTH","screen","K_MAX_HEIGHT","div","overlayViewDivStyle","property","getPanes","overlayMouseTarget","getProjection","onRemove","renderedOverlay","unmountComponentAtNode","draw","_onGoogleApiLoaded","_onChildMouseMove","addListener","_onTilesLoaded","_onZoomAnimationStart","Date","getTime","currMinZoom","_onZoomAnimationEnd","_onDrag","idleListener","_onDragEnd","_onMapTypeIdChange","getMapTypeId","innerWidth","innerHeight","clientWidth","clientHeight","_onMapMouseMove","currTime","currentTarget","getBoundingClientRect","mousePosX","clientX","mousePosY","clientY","_onClick","_onMapClick","_onMapMouseDown","_onMapMouseDownCapture","callExtBoundsChange","gmC","bounds","isArraysEqualEps","marginBounds","nw","se","sw","ne","size","_registerChild","mapMarkerPrerender","GoogleMapMarkersPrerender","onMouseMove","onMouseDownCapture","instance","visualization","HeatmapLayer","data","acc","arrayA","arrayB","eps","latLng2World","sin","world2LatLng","phi","cos","metersPerLatDegree","metersPerLngDegree","meters","latDelta","lngDelta","meters2LatLngBounds","nwWorld","seWorld","w","h","fitNwSe","dx","dy","zoomX","zoomY","middle","halfW","halfH","newNW","newSE","newBounds","convertNeSwToNwSe","convertNwSeToNeSw","fitBounds","fittedData","calculatedNwSe","meters2ScreenPixels","meters2WorldSize","tile2LatLng","latLng2Tile","worldCoords","getTilesIds","from","to","ids"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nconst style = {\n  width: '100%',\n  height: '100%',\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: 'absolute',\n};\n\nexport default class GoogleMapMap extends Component {\n  shouldComponentUpdate() {\n    return false; // disable react on this div\n  }\n\n  render() {\n    const { registerChild } = this.props;\n    return <div ref={registerChild} style={style} />;\n  }\n}\n","import EventEmitter from 'eventemitter3';\n\nexport default class MarkerDispatcher extends EventEmitter {\n  constructor(gmapInstance) {\n    super();\n    this.gmapInstance = gmapInstance;\n  }\n\n  getChildren() {\n    return this.gmapInstance.props.children;\n  }\n\n  getMousePosition() {\n    return this.gmapInstance.mouse_;\n  }\n\n  getUpdateCounter() {\n    return this.gmapInstance.updateCounter_;\n  }\n\n  dispose() {\n    this.gmapInstance = null;\n    this.removeAllListeners();\n  }\n}\n","// https://github.com/acdlite/recompose/blob/master/src/packages/recompose/utils/omit.js\nconst omit = (obj, keys) => {\n  const { ...rest } = obj;\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (key in rest) {\n      delete rest[key];\n    }\n  }\n  return rest;\n};\n\nexport default omit;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @providesModule shallowEqual\n * @typechecks\n * @flow\n */\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  }\n  // Step 6.a: NaN == NaN\n  // eslint-disable-next-line no-self-compare\n  return x !== x && y !== y;\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (\n    typeof objA !== 'object' ||\n    objA === null ||\n    typeof objB !== 'object' ||\n    objB === null\n  ) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (let i = 0; i < keysA.length; i++) {\n    if (\n      !hasOwnProperty.call(objB, keysA[i]) ||\n      !is(objA[keysA[i]], objB[keysA[i]])\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default shallowEqual;\n/* src: https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/shallowEqual.js */\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n// utils\nimport omit from './utils/omit';\nimport shallowEqual from './utils/shallowEqual';\n\nconst mainStyle = {\n  width: '100%',\n  height: '100%',\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: 'absolute',\n};\n\nconst style = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  backgroundColor: 'transparent',\n  position: 'absolute',\n};\n\nexport default class GoogleMapMarkers extends Component {\n  /* eslint-disable react/forbid-prop-types */\n  static propTypes = {\n    geoService: PropTypes.any,\n    style: PropTypes.any,\n    distanceToMouse: PropTypes.func,\n    dispatcher: PropTypes.any,\n    onChildClick: PropTypes.func,\n    onChildMouseDown: PropTypes.func,\n    onChildMouseLeave: PropTypes.func,\n    onChildMouseEnter: PropTypes.func,\n    getHoverDistance: PropTypes.func,\n    insideMapPanes: PropTypes.bool,\n    prerender: PropTypes.bool,\n  };\n  /* eslint-enable react/forbid-prop-types */\n\n  static defaultProps = {\n    insideMapPanes: false,\n    prerender: false,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.dimensionsCache_ = {};\n    this.hoverKey_ = null;\n    this.hoverChildProps_ = null;\n    this.allowMouse_ = true;\n\n    this.state = { ...this._getState(), hoverKey: null };\n  }\n\n  componentDidMount() {\n    this.props.dispatcher.on('kON_CHANGE', this._onChangeHandler);\n    this.props.dispatcher.on(\n      'kON_MOUSE_POSITION_CHANGE',\n      this._onMouseChangeHandler\n    );\n    this.props.dispatcher.on('kON_CLICK', this._onChildClick);\n    this.props.dispatcher.on('kON_MDOWN', this._onChildMouseDown);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.experimental === true) {\n      return (\n        !shallowEqual(this.props, nextProps) ||\n        !shallowEqual(\n          omit(this.state, ['hoverKey']),\n          omit(nextState, ['hoverKey'])\n        )\n      );\n    }\n\n    return (\n      !shallowEqual(this.props, nextProps) ||\n      !shallowEqual(this.state, nextState)\n    );\n  }\n\n  componentWillUnmount() {\n    this.props.dispatcher.removeListener('kON_CHANGE', this._onChangeHandler);\n    this.props.dispatcher.removeListener(\n      'kON_MOUSE_POSITION_CHANGE',\n      this._onMouseChangeHandler\n    );\n    this.props.dispatcher.removeListener('kON_CLICK', this._onChildClick);\n    this.props.dispatcher.removeListener('kON_MDOWN', this._onChildMouseDown);\n\n    this.dimensionsCache_ = null;\n  }\n\n  _getState = () => ({\n    children: this.props.dispatcher.getChildren(),\n    updateCounter: this.props.dispatcher.getUpdateCounter(),\n  });\n\n  _onChangeHandler = () => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    const prevChildCount = (this.state.children || []).length;\n    const state = this._getState();\n\n    this.setState(\n      state,\n      () =>\n        (state.children || []).length !== prevChildCount &&\n        this._onMouseChangeHandler()\n    );\n  };\n\n  _onChildClick = () => {\n    if (this.props.onChildClick) {\n      if (this.hoverChildProps_) {\n        const hoverKey = this.hoverKey_;\n        const childProps = this.hoverChildProps_;\n        // click works only on hovered item\n        this.props.onChildClick(hoverKey, childProps);\n      }\n    }\n  };\n\n  _onChildMouseDown = () => {\n    if (this.props.onChildMouseDown) {\n      if (this.hoverChildProps_) {\n        const hoverKey = this.hoverKey_;\n        const childProps = this.hoverChildProps_;\n        // works only on hovered item\n        this.props.onChildMouseDown(hoverKey, childProps);\n      }\n    }\n  };\n\n  _onChildMouseEnter = (hoverKey, childProps) => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    if (this.props.onChildMouseEnter) {\n      this.props.onChildMouseEnter(hoverKey, childProps);\n    }\n\n    this.hoverChildProps_ = childProps;\n    this.hoverKey_ = hoverKey;\n    this.setState({ hoverKey });\n  };\n\n  _onChildMouseLeave = () => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    const hoverKey = this.hoverKey_;\n    const childProps = this.hoverChildProps_;\n\n    if (hoverKey !== undefined && hoverKey !== null) {\n      if (this.props.onChildMouseLeave) {\n        this.props.onChildMouseLeave(hoverKey, childProps);\n      }\n\n      this.hoverKey_ = null;\n      this.hoverChildProps_ = null;\n      this.setState({ hoverKey: null });\n    }\n  };\n\n  _onMouseAllow = (value) => {\n    if (!value) {\n      this._onChildMouseLeave();\n    }\n\n    this.allowMouse_ = value;\n  };\n\n  _onMouseChangeHandler = () => {\n    if (this.allowMouse_) {\n      this._onMouseChangeHandlerRaf();\n    }\n  };\n\n  _onMouseChangeHandlerRaf = () => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    const mp = this.props.dispatcher.getMousePosition();\n\n    if (mp) {\n      const distances = [];\n      const hoverDistance = this.props.getHoverDistance();\n\n      React.Children.forEach(this.state.children, (child, childIndex) => {\n        if (!child) return;\n        // layers\n        if (\n          child.props.latLng === undefined &&\n          child.props.lat === undefined &&\n          child.props.lng === undefined\n        ) {\n          return;\n        }\n\n        const childKey =\n          child.key !== undefined && child.key !== null\n            ? child.key\n            : childIndex;\n        const dist = this.props.distanceToMouse(\n          this.dimensionsCache_[childKey],\n          mp,\n          child.props\n        );\n        if (dist < hoverDistance) {\n          distances.push({\n            key: childKey,\n            dist,\n            props: child.props,\n          });\n        }\n      });\n\n      if (distances.length) {\n        distances.sort((a, b) => a.dist - b.dist);\n        const hoverKey = distances[0].key;\n        const childProps = distances[0].props;\n\n        if (this.hoverKey_ !== hoverKey) {\n          this._onChildMouseLeave();\n\n          this._onChildMouseEnter(hoverKey, childProps);\n        }\n      } else {\n        this._onChildMouseLeave();\n      }\n    } else {\n      this._onChildMouseLeave();\n    }\n  };\n\n  _getDimensions = (key) => {\n    const childKey = key;\n    return this.dimensionsCache_[childKey];\n  };\n\n  render() {\n    const mainElementStyle = this.props.style || mainStyle;\n    this.dimensionsCache_ = {};\n\n    const markers = React.Children.map(\n      this.state.children,\n      (child, childIndex) => {\n        if (!child) return undefined;\n        if (\n          child.props.latLng === undefined &&\n          child.props.lat === undefined &&\n          child.props.lng === undefined\n        ) {\n          return React.cloneElement(child, {\n            $geoService: this.props.geoService,\n            $onMouseAllow: this._onMouseAllow,\n            $prerender: this.props.prerender,\n          });\n        }\n\n        const latLng =\n          child.props.latLng !== undefined\n            ? child.props.latLng\n            : { lat: child.props.lat, lng: child.props.lng };\n\n        const pt = this.props.insideMapPanes\n          ? this.props.geoService.fromLatLngToDivPixel(latLng)\n          : this.props.geoService.fromLatLngToCenterPixel(latLng);\n\n        const stylePtPos = {\n          left: pt.x,\n          top: pt.y,\n        };\n\n        // If the component has a southeast corner defined (either as a LatLng, or a separate\n        // lat and lng pair), set the width and height based on the distance between the northwest\n        // and the southeast corner to lock the overlay to the correct geographic bounds.\n        if (\n          child.props.seLatLng !== undefined ||\n          (child.props.seLat !== undefined && child.props.seLng !== undefined)\n        ) {\n          const seLatLng =\n            child.props.seLatLng !== undefined\n              ? child.props.seLatLng\n              : { lat: child.props.seLat, lng: child.props.seLng };\n\n          const sePt = this.props.insideMapPanes\n            ? this.props.geoService.fromLatLngToDivPixel(seLatLng)\n            : this.props.geoService.fromLatLngToCenterPixel(seLatLng);\n\n          stylePtPos.width = sePt.x - pt.x;\n          stylePtPos.height = sePt.y - pt.y;\n        }\n\n        const containerPt = this.props.geoService.fromLatLngToContainerPixel(\n          latLng\n        );\n\n        // to prevent rerender on child element i need to pass\n        // const params $getDimensions and $dimensionKey instead of dimension object\n        const childKey =\n          child.key !== undefined && child.key !== null\n            ? child.key\n            : childIndex;\n\n        this.dimensionsCache_[childKey] = {\n          x: containerPt.x,\n          y: containerPt.y,\n          ...latLng,\n        };\n\n        return (\n          <div\n            key={childKey}\n            style={{ ...style, ...stylePtPos }}\n            className={child.props.$markerHolderClassName}\n          >\n            {React.cloneElement(child, {\n              $hover: childKey === this.state.hoverKey,\n              $getDimensions: this._getDimensions,\n              $dimensionKey: childKey,\n              $geoService: this.props.geoService,\n              $onMouseAllow: this._onMouseAllow,\n              $prerender: this.props.prerender,\n            })}\n          </div>\n        );\n      }\n    );\n\n    return <div style={mainElementStyle}>{markers}</div>;\n  }\n}\n","import React from 'react';\nimport GoogleMapMarkers from './google_map_markers';\n\nconst style = {\n  width: '50%',\n  height: '50%',\n  left: '50%',\n  top: '50%',\n  // backgroundColor: 'red',\n  margin: 0,\n  padding: 0,\n  position: 'absolute',\n  // opacity: 0.3\n};\n\nexport default function (props) {\n  return (\n    <div style={style}>\n      <GoogleMapMarkers {...props} prerender />\n    </div>\n  );\n}\n","const BASE_URL = 'https://maps';\nconst DEFAULT_URL = `${BASE_URL}.googleapis.com`;\nconst API_PATH = '/maps/api/js?callback=_$_google_map_initialize_$_';\n\nlet $script_ = null;\n\nlet loadPromise_;\n\nlet resolveCustomPromise_;\n\nconst _customPromise = new Promise((resolve) => {\n  resolveCustomPromise_ = resolve;\n});\n\n// TODO add libraries language and other map options\nexport default (bootstrapURLKeys, heatmapLibrary) => {\n  if (!$script_) {\n    $script_ = require('scriptjs'); // eslint-disable-line\n  }\n\n  // call from outside google-map-react\n  // will be as soon as loadPromise_ resolved\n  if (!bootstrapURLKeys) {\n    return _customPromise;\n  }\n\n  if (loadPromise_) {\n    return loadPromise_;\n  }\n\n  loadPromise_ = new Promise((resolve, reject) => {\n    if (typeof window === 'undefined') {\n      reject(new Error('google map cannot be loaded outside browser env'));\n      return;\n    }\n\n    if (window.google && window.google.maps) {\n      resolve(window.google.maps);\n      return;\n    }\n\n    if (typeof window._$_google_map_initialize_$_ !== 'undefined') {\n      reject(new Error('google map initialization error'));\n    }\n\n    window._$_google_map_initialize_$_ = () => {\n      delete window._$_google_map_initialize_$_;\n      resolve(window.google.maps);\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (Object.keys(bootstrapURLKeys).indexOf('callback') > -1) {\n        const message = `\"callback\" key in bootstrapURLKeys is not allowed,\n                          use onGoogleApiLoaded property instead`;\n        // eslint-disable-next-line no-console\n        console.error(message);\n        throw new Error(message);\n      }\n    }\n\n    const params = Object.keys(bootstrapURLKeys).reduce(\n      (r, key) => `${r}&${key}=${bootstrapURLKeys[key]}`,\n      ''\n    );\n\n    const libraries = heatmapLibrary ? '&libraries=visualization' : '';\n\n    $script_(\n      `${DEFAULT_URL}${API_PATH}${params}${libraries}`,\n      () =>\n        typeof window.google === 'undefined' &&\n        reject(new Error('google map initialization error (not loaded)'))\n    );\n  });\n\n  resolveCustomPromise_(loadPromise_);\n\n  return loadPromise_;\n};\n","/* eslint-disable import/prefer-default-export */\n\nexport function wrap(n, min, max) {\n  const d = max - min;\n  return n === max ? n : ((((n - min) % d) + d) % d) + min;\n}\n","import { wrap } from './wrap';\n\nexport default class LatLng {\n  static convert = (a) => {\n    if (a instanceof LatLng) {\n      return a;\n    }\n\n    if (Array.isArray(a)) {\n      return new LatLng(a[0], a[1]);\n    }\n\n    if ('lng' in a && 'lat' in a) {\n      return new LatLng(a.lat, a.lng);\n    }\n\n    return a;\n  };\n\n  constructor(lat, lng) {\n    if (isNaN(lat) || isNaN(lng)) {\n      throw new Error(`Invalid LatLng object: (${lat}, ${lng})`);\n    }\n    this.lat = +lat;\n    this.lng = +lng;\n  }\n\n  wrap() {\n    return new LatLng(this.lat, wrap(this.lng, -180, 180));\n  }\n}\n","/* eslint-disable class-methods-use-this */\nimport Point from '@mapbox/point-geometry';\nimport LatLng from './lat_lng';\nimport { wrap } from './wrap';\n\n// A single transform, generally used for a single tile to be scaled, rotated, and zoomed.\nexport default class Transform {\n  constructor(tileSize, minZoom, maxZoom) {\n    this.tileSize = tileSize || 512; // constant\n\n    this._minZoom = minZoom || 0;\n    this._maxZoom = maxZoom || 52;\n\n    this.latRange = [-85.05113, 85.05113];\n\n    this.width = 0;\n    this.height = 0;\n    this.zoom = 0;\n    this.center = new LatLng(0, 0);\n    this.angle = 0;\n  }\n\n  get minZoom() {\n    return this._minZoom;\n  }\n\n  set minZoom(zoom) {\n    this._minZoom = zoom;\n    this.zoom = Math.max(this.zoom, zoom);\n  }\n\n  get maxZoom() {\n    return this._maxZoom;\n  }\n\n  set maxZoom(zoom) {\n    this._maxZoom = zoom;\n    this.zoom = Math.min(this.zoom, zoom);\n  }\n\n  get worldSize() {\n    return this.tileSize * this.scale;\n  }\n\n  get centerPoint() {\n    return new Point(0, 0); // this.size._div(2);\n  }\n\n  get size() {\n    return new Point(this.width, this.height);\n  }\n\n  get bearing() {\n    return (-this.angle / Math.PI) * 180;\n  }\n\n  set bearing(bearing) {\n    this.angle = (-wrap(bearing, -180, 180) * Math.PI) / 180;\n  }\n\n  get zoom() {\n    return this._zoom;\n  }\n\n  set zoom(zoom) {\n    const zoomV = Math.min(Math.max(zoom, this.minZoom), this.maxZoom);\n    this._zoom = zoomV;\n    this.scale = this.zoomScale(zoomV);\n    this.tileZoom = Math.floor(zoomV);\n    this.zoomFraction = zoomV - this.tileZoom;\n  }\n\n  zoomScale(zoom) {\n    return Math.pow(2, zoom);\n  }\n\n  scaleZoom(scale) {\n    return Math.log(scale) / Math.LN2;\n  }\n\n  project(latlng, worldSize) {\n    return new Point(\n      this.lngX(latlng.lng, worldSize),\n      this.latY(latlng.lat, worldSize)\n    );\n  }\n\n  unproject(point, worldSize) {\n    return new LatLng(\n      this.yLat(point.y, worldSize),\n      this.xLng(point.x, worldSize)\n    );\n  }\n\n  get x() {\n    return this.lngX(this.center.lng);\n  }\n\n  get y() {\n    return this.latY(this.center.lat);\n  }\n\n  get point() {\n    return new Point(this.x, this.y);\n  }\n\n  // lat/lon <-> absolute pixel coords convertion\n  lngX(lon, worldSize) {\n    return ((180 + lon) * (worldSize || this.worldSize)) / 360;\n  }\n\n  // latitude to absolute y coord\n  latY(lat, worldSize) {\n    const y =\n      (180 / Math.PI) * Math.log(Math.tan(Math.PI / 4 + (lat * Math.PI) / 360));\n    return ((180 - y) * (worldSize || this.worldSize)) / 360;\n  }\n\n  xLng(x, worldSize) {\n    return (x * 360) / (worldSize || this.worldSize) - 180;\n  }\n\n  yLat(y, worldSize) {\n    const y2 = 180 - (y * 360) / (worldSize || this.worldSize);\n    return (360 / Math.PI) * Math.atan(Math.exp((y2 * Math.PI) / 180)) - 90;\n  }\n\n  locationPoint(latlng) {\n    const p = this.project(latlng);\n    return this.centerPoint._sub(this.point._sub(p)._rotate(this.angle));\n  }\n\n  pointLocation(p) {\n    const p2 = this.centerPoint._sub(p)._rotate(-this.angle);\n    return this.unproject(this.point.sub(p2));\n  }\n}\n","import Point from '@mapbox/point-geometry';\n\nimport LatLng from './lat_lng';\nimport Transform from './transform';\n\nexport default class Geo {\n  constructor(tileSize) {\n    // left_top view пользует гугл\n    // super();\n    this.hasSize_ = false;\n    this.hasView_ = false;\n    this.transform_ = new Transform(tileSize || 512);\n  }\n\n  setView(center, zoom, bearing) {\n    this.transform_.center = LatLng.convert(center);\n    this.transform_.zoom = +zoom;\n    this.transform_.bearing = +bearing;\n    this.hasView_ = true;\n  }\n\n  setViewSize(width, height) {\n    this.transform_.width = width;\n    this.transform_.height = height;\n    this.hasSize_ = true;\n  }\n\n  setMapCanvasProjection(maps, mapCanvasProjection) {\n    this.maps_ = maps;\n    this.mapCanvasProjection_ = mapCanvasProjection;\n  }\n\n  canProject() {\n    return this.hasSize_ && this.hasView_;\n  }\n\n  hasSize() {\n    return this.hasSize_;\n  }\n\n  /** Returns the pixel position relative to the map center. */\n  fromLatLngToCenterPixel(ptLatLng) {\n    return this.transform_.locationPoint(LatLng.convert(ptLatLng));\n  }\n\n  /**\n   * Returns the pixel position relative to the map panes,\n   * or relative to the map center if there are no panes.\n   */\n  fromLatLngToDivPixel(ptLatLng) {\n    if (this.mapCanvasProjection_) {\n      const latLng = new this.maps_.LatLng(ptLatLng.lat, ptLatLng.lng);\n      return this.mapCanvasProjection_.fromLatLngToDivPixel(latLng);\n    }\n    return this.fromLatLngToCenterPixel(ptLatLng);\n  }\n\n  /** Returns the pixel position relative to the map top-left. */\n  fromLatLngToContainerPixel(ptLatLng) {\n    if (this.mapCanvasProjection_) {\n      const latLng = new this.maps_.LatLng(ptLatLng.lat, ptLatLng.lng);\n      return this.mapCanvasProjection_.fromLatLngToContainerPixel(latLng);\n    }\n\n    const pt = this.fromLatLngToCenterPixel(ptLatLng);\n    pt.x -=\n      this.transform_.worldSize * Math.round(pt.x / this.transform_.worldSize);\n\n    pt.x += this.transform_.width / 2;\n    pt.y += this.transform_.height / 2;\n\n    return pt;\n  }\n\n  /** Returns the LatLng for the given offset from the map top-left. */\n  fromContainerPixelToLatLng(ptXY) {\n    if (this.mapCanvasProjection_) {\n      const latLng = this.mapCanvasProjection_.fromContainerPixelToLatLng(ptXY);\n      return { lat: latLng.lat(), lng: latLng.lng() };\n    }\n\n    const ptxy = { ...ptXY };\n    ptxy.x -= this.transform_.width / 2;\n    ptxy.y -= this.transform_.height / 2;\n    const ptRes = this.transform_.pointLocation(Point.convert(ptxy));\n\n    ptRes.lng -= 360 * Math.round(ptRes.lng / 360); // convert 2 google format\n    return ptRes;\n  }\n\n  getWidth() {\n    return this.transform_.width;\n  }\n\n  getHeight() {\n    return this.transform_.height;\n  }\n\n  getZoom() {\n    return this.transform_.zoom;\n  }\n\n  getCenter() {\n    const ptRes = this.transform_.pointLocation({ x: 0, y: 0 });\n\n    return ptRes;\n  }\n\n  getBounds(margins, roundFactor) {\n    const bndT = (margins && margins[0]) || 0;\n    const bndR = (margins && margins[1]) || 0;\n    const bndB = (margins && margins[2]) || 0;\n    const bndL = (margins && margins[3]) || 0;\n\n    if (\n      this.getWidth() - bndR - bndL > 0 &&\n      this.getHeight() - bndT - bndB > 0\n    ) {\n      const topLeftCorner = this.transform_.pointLocation(\n        Point.convert({\n          x: bndL - this.getWidth() / 2,\n          y: bndT - this.getHeight() / 2,\n        })\n      );\n      const bottomRightCorner = this.transform_.pointLocation(\n        Point.convert({\n          x: this.getWidth() / 2 - bndR,\n          y: this.getHeight() / 2 - bndB,\n        })\n      );\n\n      let res = [\n        topLeftCorner.lat,\n        topLeftCorner.lng, // NW\n        bottomRightCorner.lat,\n        bottomRightCorner.lng, // SE\n        bottomRightCorner.lat,\n        topLeftCorner.lng, // SW\n        topLeftCorner.lat,\n        bottomRightCorner.lng, // NE\n      ];\n\n      if (roundFactor) {\n        res = res.map((r) => Math.round(r * roundFactor) / roundFactor);\n      }\n      return res;\n    }\n\n    return [0, 0, 0, 0];\n  }\n}\n","export default function raf(callback) {\n  if (window.requestAnimationFrame) {\n    return window.requestAnimationFrame(callback);\n  }\n\n  const nativeRaf =\n    window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n\n  return nativeRaf\n    ? nativeRaf(callback)\n    : window.setTimeout(callback, 1e3 / 60);\n}\n","const log2 = Math.log2 ? Math.log2 : (x) => Math.log(x) / Math.LN2;\n\nexport default log2;\n","// source taken from https://github.com/rackt/redux/blob/master/src/utils/pick.js\n\nexport default function pick(obj, fn) {\n  return Object.keys(obj).reduce((result, key) => {\n    if (fn(obj[key])) {\n        result[key] = obj[key]; // eslint-disable-line\n    }\n    return result;\n  }, {});\n}\n","const isEmpty = (val) => {\n  // check for empty object {}, array []\n  if (val !== null && typeof val === 'object') {\n    if (Object.keys(val).length === 0) {\n      return true;\n    }\n  } else if (val === null || val === undefined || val === '') {\n    // check for undefined, null and \"\"\n    return true;\n  }\n  return false;\n};\n\nexport default isEmpty;\n","function isObjectLike(value) {\n  return !!value && typeof value === 'object';\n}\n\nconst objectToString = Object.prototype.toString;\n\nexport default function isNumber(value) {\n  const numberTag = '[object Number]';\n  return (\n    typeof value === 'number' ||\n    (isObjectLike(value) && objectToString.call(value) === numberTag)\n  );\n}\n","// http://stackoverflow.com/questions/5899783/detect-safari-chrome-ie-firefox-opera-with-user-agent\nlet detectBrowserResult_ = null;\n\nexport default function detectBrowser() {\n  if (detectBrowserResult_) {\n    return detectBrowserResult_;\n  }\n\n  if (typeof navigator !== 'undefined') {\n    const isExplorer = navigator.userAgent.indexOf('MSIE') > -1;\n    const isFirefox = navigator.userAgent.indexOf('Firefox') > -1;\n    const isOpera = navigator.userAgent.toLowerCase().indexOf('op') > -1;\n\n    let isChrome = navigator.userAgent.indexOf('Chrome') > -1;\n    let isSafari = navigator.userAgent.indexOf('Safari') > -1;\n\n    if (isChrome && isSafari) {\n      isSafari = false;\n    }\n\n    if (isChrome && isOpera) {\n      isChrome = false;\n    }\n\n    detectBrowserResult_ = {\n      isExplorer,\n      isFirefox,\n      isOpera,\n      isChrome,\n      isSafari,\n    };\n    return detectBrowserResult_;\n  }\n\n  detectBrowserResult_ = {\n    isChrome: true,\n    isExplorer: false,\n    isFirefox: false,\n    isOpera: false,\n    isSafari: false,\n  };\n\n  return detectBrowserResult_;\n}\n","// source taken from https://github.com/rackt/redux/blob/master/src/utils/isPlainObject.js\nconst fnToString = (fn) => Function.prototype.toString.call(fn);\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nexport default function isPlainObject(obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  const proto =\n    typeof obj.constructor === 'function'\n      ? Object.getPrototypeOf(obj)\n      : Object.prototype;\n\n  if (proto === null) {\n    return true;\n  }\n\n  const constructor = proto.constructor;\n\n  return (\n    typeof constructor === 'function' &&\n    constructor instanceof constructor &&\n    fnToString(constructor) === fnToString(Object)\n  );\n}\n","// feature detection for passive support\n// see: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\nfunction hasPassiveSupport() {\n  let passiveSupported = false;\n\n  try {\n    const options = Object.defineProperty({}, 'passive', {\n      get() {\n        passiveSupported = true;\n      },\n    });\n\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, options);\n  } catch (err) {\n    passiveSupported = false;\n  }\n\n  return passiveSupported;\n}\n\nexport default function addPassiveEventListener(\n  element,\n  eventName,\n  func,\n  capture\n) {\n  element.addEventListener(\n    eventName,\n    func,\n    hasPassiveSupport()\n      ? {\n          capture,\n          passive: true,\n        }\n      : capture\n  );\n}\n","/* eslint-disable */\n/**\n* Detect Element Resize.\n* Forked in order to guard against unsafe 'window' and 'document' references.\n*\n* https://github.com/sdecima/javascript-detect-element-resize\n* Sebastian Decima\n*\n* version: 0.5.3\n**/\n\nimport addPassiveEventListener from './passiveEvents';\n\n// Reliable `window` and `document` detection\nvar canUseDOM = !!(typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement);\n\n// Check `document` and `window` in case of server-side rendering\nvar _window;\nif (canUseDOM) {\n  _window = window;\n} else if (typeof self !== 'undefined') {\n  _window = self;\n} else {\n  _window = this;\n}\n\nvar attachEvent = typeof document !== 'undefined' && document.attachEvent;\nvar stylesCreated = false;\n\nif (canUseDOM && !attachEvent) {\n  var requestFrame = (function () {\n    var raf = _window.requestAnimationFrame ||\n      _window.mozRequestAnimationFrame ||\n      _window.webkitRequestAnimationFrame ||\n      function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n    return function (fn) {\n      return raf(fn);\n    };\n  })();\n\n  var cancelFrame = (function () {\n    var cancel = _window.cancelAnimationFrame ||\n      _window.mozCancelAnimationFrame ||\n      _window.webkitCancelAnimationFrame ||\n      _window.clearTimeout;\n    return function (id) {\n      return cancel(id);\n    };\n  })();\n\n  var resetTriggers = function (element) {\n    var triggers = element.__resizeTriggers__,\n      expand = triggers.firstElementChild,\n      contract = triggers.lastElementChild,\n      expandChild = expand.firstElementChild;\n    contract.scrollLeft = contract.scrollWidth;\n    contract.scrollTop = contract.scrollHeight;\n    expandChild.style.width = expand.offsetWidth + 1 + 'px';\n    expandChild.style.height = expand.offsetHeight + 1 + 'px';\n    expand.scrollLeft = expand.scrollWidth;\n    expand.scrollTop = expand.scrollHeight;\n  };\n\n  var checkTriggers = function (element) {\n    return element.offsetWidth != element.__resizeLast__.width ||\n      element.offsetHeight != element.__resizeLast__.height;\n  };\n\n  var scrollListener = function (e) {\n    var element = this;\n    resetTriggers(this);\n    if (this.__resizeRAF__) cancelFrame(this.__resizeRAF__);\n    this.__resizeRAF__ = requestFrame(function () {\n      if (checkTriggers(element)) {\n        element.__resizeLast__.width = element.offsetWidth;\n        element.__resizeLast__.height = element.offsetHeight;\n        element.__resizeListeners__.forEach(function (fn) {\n          fn.call(element, e);\n        });\n      }\n    });\n  };\n\n  /* Detect CSS Animations support to detect element display/re-attach */\n  var animation = false,\n    animationstring = 'animation',\n    keyframeprefix = '',\n    animationstartevent = 'animationstart',\n    domPrefixes = 'Webkit Moz O ms'.split(' '),\n    startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(\n      ' '\n    ),\n    pfx = '';\n\n  if (canUseDOM) {\n    var elm = document.createElement('fakeelement');\n    if (elm.style.animationName !== undefined) {\n      animation = true;\n    }\n\n    if (animation === false) {\n      for (var i = 0; i < domPrefixes.length; i++) {\n        if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n          pfx = domPrefixes[i];\n          animationstring = pfx + 'Animation';\n          keyframeprefix = '-' + pfx.toLowerCase() + '-';\n          animationstartevent = startEvents[i];\n          animation = true;\n          break;\n        }\n      }\n    }\n  }\n\n  var animationName = 'resizeanim';\n  var animationKeyframes = '@' +\n    keyframeprefix +\n    'keyframes ' +\n    animationName +\n    ' { from { opacity: 0; } to { opacity: 0; } } ';\n  var animationStyle = keyframeprefix +\n    'animation: 1ms ' +\n    animationName +\n    '; ';\n}\n\nvar createStyles = function () {\n  if (!stylesCreated) {\n    //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n    var css = (animationKeyframes ? animationKeyframes : '') +\n      '.resize-triggers { ' +\n      (animationStyle ? animationStyle : '') +\n      'visibility: hidden; opacity: 0; } ' +\n      '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n      head = document.head || document.getElementsByTagName('head')[0],\n      style = document.createElement('style');\n\n    style.type = 'text/css';\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n\n    head.appendChild(style);\n    stylesCreated = true;\n  }\n};\n\nvar addResizeListener = function (element, fn) {\n  if (element.parentNode === undefined) {\n    var tempParentDiv = document.createElement('div');\n    element.parentNode = tempParentDiv;\n  }\n  element = element.parentNode;\n  if (attachEvent)\n    element.attachEvent('onresize', fn);\n  else {\n    if (!element.__resizeTriggers__) {\n      if (getComputedStyle(element).position == 'static')\n        element.style.position = 'relative';\n      createStyles();\n      element.__resizeLast__ = {};\n      element.__resizeListeners__ = [];\n      (element.__resizeTriggers__ = document.createElement(\n        'div'\n      )).className = 'resize-triggers';\n      element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' +\n        '<div class=\"contract-trigger\"></div>';\n      element.appendChild(element.__resizeTriggers__);\n      resetTriggers(element);\n\n      addPassiveEventListener(element, 'scroll', scrollListener, true);\n\n      /* Listen for a css animation to detect element display/re-attach */\n      animationstartevent &&\n        element.__resizeTriggers__.addEventListener(\n          animationstartevent,\n          function (e) {\n            if (e.animationName == animationName) resetTriggers(element);\n          }\n        );\n    }\n    element.__resizeListeners__.push(fn);\n  }\n};\n\nvar removeResizeListener = function (element, fn) {\n  element = element.parentNode;\n  if (attachEvent)\n    element.detachEvent('onresize', fn);\n  else {\n    element.__resizeListeners__.splice(\n      element.__resizeListeners__.indexOf(fn),\n      1\n    );\n    if (!element.__resizeListeners__.length) {\n      element.removeEventListener('scroll', scrollListener);\n      element.__resizeTriggers__ = !element.removeChild(\n        element.__resizeTriggers__\n      );\n    }\n  }\n};\n\nexport {\n  addResizeListener,\n  removeResizeListener,\n};\n","/* eslint-disable import/no-extraneous-dependencies, react/forbid-prop-types, react/no-find-dom-node, no-console, no-undef */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\n// helpers\nimport GoogleMapMap from './google_map_map';\nimport MarkerDispatcher from './marker_dispatcher';\nimport GoogleMapMarkers from './google_map_markers';\nimport GoogleMapMarkersPrerender from './google_map_markers_prerender';\nimport { generateHeatmap, optionsHeatmap } from './google_heatmap';\n\n// loaders\nimport googleMapLoader from './loaders/google_map_loader';\n\n// lib\nimport Geo from './lib/geo';\n\n// tools\nimport raf from './utils/raf';\nimport log2 from './utils/log2';\nimport omit from './utils/omit';\nimport pick from './utils/pick';\nimport isEmpty from './utils/isEmpty';\nimport isNumber from './utils/isNumber';\nimport detectBrowser from './utils/detect';\nimport shallowEqual from './utils/shallowEqual';\nimport isPlainObject from './utils/isPlainObject';\nimport isArraysEqualEps from './utils/isArraysEqualEps';\nimport {\n  addResizeListener,\n  removeResizeListener,\n} from './utils/detectElementResize';\nimport addPassiveEventListener from './utils/passiveEvents';\n\n// consts\nconst kEPS = 0.00001;\nconst K_GOOGLE_TILE_SIZE = 256;\n// real minZoom calculated here _getMinZoom\nconst K_IDLE_TIMEOUT = 100;\nconst K_IDLE_CLICK_TIMEOUT = 300;\nconst DEFAULT_MIN_ZOOM = 3;\n// Starting with version 3.32, the maps API calls `draw()` each frame during\n// a zoom animation.\nconst DRAW_CALLED_DURING_ANIMATION_VERSION = 32;\nconst IS_REACT_16 = ReactDOM.createPortal !== undefined;\n\nconst createPortal = IS_REACT_16\n  ? ReactDOM.createPortal\n  : ReactDOM.unstable_renderSubtreeIntoContainer;\n\nfunction defaultOptions_(/* maps */) {\n  return {\n    overviewMapControl: false,\n    streetViewControl: false,\n    rotateControl: true,\n    mapTypeControl: false,\n    // disable poi\n    styles: [\n      {\n        featureType: 'poi',\n        elementType: 'labels',\n        stylers: [{ visibility: 'off' }],\n      },\n    ],\n    minZoom: DEFAULT_MIN_ZOOM, // dynamically recalculted if possible during init\n  };\n}\n\nconst latLng2Obj = (latLng) =>\n  isPlainObject(latLng) ? latLng : { lat: latLng[0], lng: latLng[1] };\n\nconst _checkMinZoom = (zoom, minZoom) => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (zoom < minZoom) {\n      console.warn(\n        'GoogleMap: ' + // eslint-disable-line\n          'minZoom option is less than recommended ' +\n          'minZoom option for your map sizes.\\n' +\n          'overrided to value ' +\n          minZoom\n      );\n    }\n  }\n\n  if (minZoom < zoom) {\n    return zoom;\n  }\n  return minZoom;\n};\n\nconst isFullScreen = () =>\n  document.fullscreen ||\n  document.webkitIsFullScreen ||\n  document.mozFullScreen ||\n  document.msFullscreenElement;\n\nclass GoogleMap extends Component {\n  static propTypes = {\n    apiKey: PropTypes.string,\n    bootstrapURLKeys: PropTypes.any,\n\n    defaultCenter: PropTypes.oneOfType([\n      PropTypes.array,\n      PropTypes.shape({\n        lat: PropTypes.number,\n        lng: PropTypes.number,\n      }),\n    ]),\n    center: PropTypes.oneOfType([\n      PropTypes.array,\n      PropTypes.shape({\n        lat: PropTypes.number,\n        lng: PropTypes.number,\n      }),\n    ]),\n    defaultZoom: PropTypes.number,\n    zoom: PropTypes.number,\n    onBoundsChange: PropTypes.func,\n    onChange: PropTypes.func,\n    onClick: PropTypes.func,\n    onChildClick: PropTypes.func,\n    onChildMouseDown: PropTypes.func,\n    onChildMouseUp: PropTypes.func,\n    onChildMouseMove: PropTypes.func,\n    onChildMouseEnter: PropTypes.func,\n    onChildMouseLeave: PropTypes.func,\n    onZoomAnimationStart: PropTypes.func,\n    onZoomAnimationEnd: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onMapTypeIdChange: PropTypes.func,\n    onTilesLoaded: PropTypes.func,\n    options: PropTypes.any,\n    distanceToMouse: PropTypes.func,\n    hoverDistance: PropTypes.number,\n    debounced: PropTypes.bool,\n    margin: PropTypes.array,\n    googleMapLoader: PropTypes.any,\n    onGoogleApiLoaded: PropTypes.func,\n    yesIWantToUseGoogleMapApiInternals: PropTypes.bool,\n    draggable: PropTypes.bool,\n    style: PropTypes.any,\n    resetBoundsOnResize: PropTypes.bool,\n    layerTypes: PropTypes.arrayOf(PropTypes.string), // ['TransitLayer', 'TrafficLayer']\n    shouldUnregisterMapOnUnmount: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    distanceToMouse(pt, mousePos /* , markerProps */) {\n      return Math.sqrt(\n        (pt.x - mousePos.x) * (pt.x - mousePos.x) +\n          (pt.y - mousePos.y) * (pt.y - mousePos.y)\n      );\n    },\n    hoverDistance: 30,\n    debounced: true,\n    options: defaultOptions_,\n    googleMapLoader,\n    yesIWantToUseGoogleMapApiInternals: false,\n    style: {\n      width: '100%',\n      height: '100%',\n      margin: 0,\n      padding: 0,\n      position: 'relative',\n    },\n    layerTypes: [],\n    heatmap: {},\n    heatmapLibrary: false,\n    shouldUnregisterMapOnUnmount: true,\n  };\n\n  static googleMapLoader = googleMapLoader; // eslint-disable-line\n\n  constructor(props) {\n    super(props);\n    this.mounted_ = false;\n    this.initialized_ = false;\n    this.googleApiLoadedCalled_ = false;\n\n    this.map_ = null;\n    this.maps_ = null;\n    this.prevBounds_ = null;\n    this.heatmap = null;\n\n    this.layers_ = {};\n\n    this.mouse_ = null;\n    this.mouseMoveTime_ = 0;\n    this.boundingRect_ = null;\n    this.mouseInMap_ = true;\n\n    this.dragTime_ = 0;\n    this.fireMouseEventOnIdle_ = false;\n    this.updateCounter_ = 0;\n\n    this.markersDispatcher_ = new MarkerDispatcher(this);\n    this.geoService_ = new Geo(K_GOOGLE_TILE_SIZE);\n    this.centerIsObject_ = isPlainObject(this.props.center);\n\n    this.minZoom_ = DEFAULT_MIN_ZOOM;\n    this.defaultDraggableOption_ = true;\n\n    this.zoomControlClickTime_ = 0;\n\n    this.childMouseDownArgs_ = null;\n    this.childMouseUpTime_ = 0;\n\n    this.googleMapDom_ = null;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.props.apiKey) {\n        console.warn(\n          'GoogleMap: ' + // eslint-disable-line no-console\n            'apiKey is deprecated, use ' +\n            'bootstrapURLKeys={{key: YOUR_API_KEY}} instead.'\n        );\n      }\n\n      if (this.props.onBoundsChange) {\n        console.warn(\n          'GoogleMap: ' + // eslint-disable-line no-console\n            'onBoundsChange is deprecated, use ' +\n            'onChange({center, zoom, bounds, ...other}) instead.'\n        );\n      }\n\n      if (isEmpty(this.props.center) && isEmpty(this.props.defaultCenter)) {\n        console.warn(\n          'GoogleMap: center or defaultCenter property must be defined' // eslint-disable-line no-console\n        );\n      }\n\n      if (isEmpty(this.props.zoom) && isEmpty(this.props.defaultZoom)) {\n        console.warn(\n          'GoogleMap: zoom or defaultZoom property must be defined' // eslint-disable-line no-console\n        );\n      }\n    }\n\n    if (this._isCenterDefined(this.props.center || this.props.defaultCenter)) {\n      const propsCenter = latLng2Obj(\n        this.props.center || this.props.defaultCenter\n      );\n      this.geoService_.setView(\n        propsCenter,\n        this.props.zoom || this.props.defaultZoom,\n        0\n      );\n    }\n\n    this.zoomAnimationInProgress_ = false;\n\n    this.state = {\n      overlay: null,\n    };\n  }\n\n  componentDidMount() {\n    this.mounted_ = true;\n    addPassiveEventListener(window, 'resize', this._onWindowResize, false);\n    addPassiveEventListener(window, 'keydown', this._onKeyDownCapture, true);\n    const mapDom = ReactDOM.findDOMNode(this.googleMapDom_);\n    // gmap can't prevent map drag if mousedown event already occured\n    // the only workaround I find is prevent mousedown native browser event\n\n    if (mapDom) {\n      addPassiveEventListener(\n        mapDom,\n        'mousedown',\n        this._onMapMouseDownNative,\n        true\n      );\n    }\n\n    addPassiveEventListener(window, 'mouseup', this._onChildMouseUp, false);\n    const bootstrapURLKeys = {\n      ...(this.props.apiKey && { key: this.props.apiKey }),\n      ...this.props.bootstrapURLKeys,\n    };\n\n    this.props.googleMapLoader(bootstrapURLKeys, this.props.heatmapLibrary); // we can start load immediatly\n\n    setTimeout(\n      () => {\n        // to detect size\n        this._setViewSize();\n        if (\n          this._isCenterDefined(this.props.center || this.props.defaultCenter)\n        ) {\n          this._initMap();\n        }\n      },\n      0,\n      this\n    );\n    if (this.props.resetBoundsOnResize) {\n      const that = this;\n      addResizeListener(mapDom, that._mapDomResizeCallback);\n    }\n  }\n\n  // eslint-disable-next-line camelcase\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!shallowEqual(this.props.defaultCenter, nextProps.defaultCenter)) {\n        console.warn(\n          \"GoogleMap: defaultCenter prop changed. You can't change default props.\"\n        );\n      }\n\n      if (!shallowEqual(this.props.defaultZoom, nextProps.defaultZoom)) {\n        console.warn(\n          \"GoogleMap: defaultZoom prop changed. You can't change default props.\"\n        );\n      }\n    }\n\n    if (\n      !this._isCenterDefined(this.props.center) &&\n      this._isCenterDefined(nextProps.center)\n    ) {\n      setTimeout(() => this._initMap(), 0);\n    }\n\n    if (this.map_) {\n      const centerLatLng = this.geoService_.getCenter();\n      if (this._isCenterDefined(nextProps.center)) {\n        const nextPropsCenter = latLng2Obj(nextProps.center);\n        const currCenter = this._isCenterDefined(this.props.center)\n          ? latLng2Obj(this.props.center)\n          : null;\n\n        if (\n          !currCenter ||\n          Math.abs(nextPropsCenter.lat - currCenter.lat) +\n            Math.abs(nextPropsCenter.lng - currCenter.lng) >\n            kEPS\n        ) {\n          if (\n            Math.abs(nextPropsCenter.lat - centerLatLng.lat) +\n              Math.abs(nextPropsCenter.lng - centerLatLng.lng) >\n            kEPS\n          ) {\n            this.map_.panTo({\n              lat: nextPropsCenter.lat,\n              lng: nextPropsCenter.lng,\n            });\n          }\n        }\n      }\n\n      if (!isEmpty(nextProps.zoom)) {\n        // if zoom chaged by user\n        if (Math.abs(nextProps.zoom - this.props.zoom) > 0) {\n          this.map_.setZoom(nextProps.zoom);\n        }\n      }\n\n      if (!isEmpty(this.props.draggable) && isEmpty(nextProps.draggable)) {\n        // reset to default\n        this.map_.setOptions({ draggable: this.defaultDraggableOption_ });\n      } else if (!shallowEqual(this.props.draggable, nextProps.draggable)) {\n        // also prevent this on window 'mousedown' event to prevent map move\n        this.map_.setOptions({ draggable: nextProps.draggable });\n      }\n\n      // use shallowEqual to try avoid calling map._setOptions if only the ref changes\n      if (\n        !isEmpty(nextProps.options) &&\n        !shallowEqual(this.props.options, nextProps.options)\n      ) {\n        const mapPlainObjects = pick(this.maps_, isPlainObject);\n        let options =\n          typeof nextProps.options === 'function'\n            ? nextProps.options(mapPlainObjects)\n            : nextProps.options;\n        // remove zoom, center and draggable options as these are managed by google-maps-react\n        options = omit(options, ['zoom', 'center', 'draggable']);\n\n        if ('minZoom' in options) {\n          const minZoom = this._computeMinZoom(options.minZoom);\n          options.minZoom = _checkMinZoom(options.minZoom, minZoom);\n        }\n\n        this.map_.setOptions(options);\n      }\n\n      if (!shallowEqual(nextProps.layerTypes, this.props.layerTypes)) {\n        Object.keys(this.layers_).forEach((layerKey) => {\n          this.layers_[layerKey].setMap(null);\n          delete this.layers_[layerKey];\n        });\n        this._setLayers(nextProps.layerTypes);\n      }\n\n      if (\n        this.heatmap &&\n        !shallowEqual(nextProps.heatmap.positions, this.props.heatmap.positions)\n      ) {\n        this.heatmap.setData(\n          nextProps.heatmap.positions.map((p) => ({\n            location: new this.maps_.LatLng(p.lat, p.lng),\n            weight: p.weight,\n          }))\n        );\n      }\n      if (\n        this.heatmap &&\n        !shallowEqual(nextProps.heatmap.options, this.props.heatmap.options)\n      ) {\n        Object.keys(nextProps.heatmap.options).forEach((option) => {\n          this.heatmap.set(option, nextProps.heatmap.options[option]);\n        });\n      }\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // draggable does not affect inner components\n    return (\n      !shallowEqual(\n        omit(this.props, ['draggable']),\n        omit(nextProps, ['draggable'])\n      ) || !shallowEqual(this.state, nextState)\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    this.markersDispatcher_.emit('kON_CHANGE');\n\n    if (!shallowEqual(this.props.hoverDistance, prevProps.hoverDistance)) {\n      this.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted_ = false;\n    const mapDom = ReactDOM.findDOMNode(this.googleMapDom_);\n    if (mapDom) {\n      mapDom.removeEventListener('mousedown', this._onMapMouseDownNative, true);\n    }\n    window.removeEventListener('resize', this._onWindowResize);\n    window.removeEventListener('keydown', this._onKeyDownCapture);\n    window.removeEventListener('mouseup', this._onChildMouseUp, false);\n    if (this.props.resetBoundsOnResize) {\n      removeResizeListener(mapDom, this._mapDomResizeCallback);\n    }\n\n    if (this.overlay_) {\n      // this triggers overlay_.onRemove(), which will unmount the <GoogleMapMarkers/>\n      this.overlay_.setMap(null);\n    }\n\n    if (this.maps_ && this.map_ && this.props.shouldUnregisterMapOnUnmount) {\n      // fix google, as otherwise listeners works even without map\n      this.map_.setOptions({ scrollwheel: false });\n      this.maps_.event.clearInstanceListeners(this.map_);\n    }\n\n    if (this.props.shouldUnregisterMapOnUnmount) {\n      this.map_ = null;\n      this.maps_ = null;\n    }\n    this.markersDispatcher_.dispose();\n\n    this.resetSizeOnIdle_ = false;\n\n    if (this.props.shouldUnregisterMapOnUnmount) {\n      delete this.map_;\n      delete this.markersDispatcher_;\n    }\n  }\n\n  // calc minZoom if map size available\n  // it's better to not set minZoom less than this calculation gives\n  // otherwise there is no homeomorphism between screen coordinates and map\n  // (one map coordinate can have different screen coordinates)\n  _getMinZoom = () => {\n    if (this.geoService_.getWidth() > 0 || this.geoService_.getHeight() > 0) {\n      const tilesPerWidth =\n        Math.ceil(this.geoService_.getWidth() / K_GOOGLE_TILE_SIZE) + 2;\n      const tilesPerHeight =\n        Math.ceil(this.geoService_.getHeight() / K_GOOGLE_TILE_SIZE) + 2;\n      const maxTilesPerDim = Math.max(tilesPerWidth, tilesPerHeight);\n      return Math.ceil(log2(maxTilesPerDim));\n    }\n    return DEFAULT_MIN_ZOOM;\n  };\n\n  _computeMinZoom = (minZoom) => {\n    if (!isEmpty(minZoom)) {\n      return minZoom;\n    }\n    return this._getMinZoom();\n  };\n\n  _mapDomResizeCallback = () => {\n    this.resetSizeOnIdle_ = true;\n    if (this.maps_) {\n      const originalCenter = this.props.center || this.props.defaultCenter;\n      const currentCenter = this.map_.getCenter();\n      this.maps_.event.trigger(this.map_, 'resize');\n      this.map_.setCenter(\n        this.props.resetBoundsOnResize ? originalCenter : currentCenter\n      );\n    }\n  };\n\n  _setLayers = (layerTypes) => {\n    layerTypes.forEach((layerType) => {\n      this.layers_[layerType] = new this.maps_[layerType]();\n      this.layers_[layerType].setMap(this.map_);\n    });\n  };\n\n  _renderPortal = () => (\n    <GoogleMapMarkers\n      experimental={this.props.experimental}\n      onChildClick={this._onChildClick}\n      onChildMouseDown={this._onChildMouseDown}\n      onChildMouseEnter={this._onChildMouseEnter}\n      onChildMouseLeave={this._onChildMouseLeave}\n      geoService={this.geoService_}\n      insideMapPanes\n      distanceToMouse={this.props.distanceToMouse}\n      getHoverDistance={this._getHoverDistance}\n      dispatcher={this.markersDispatcher_}\n    />\n  );\n\n  _initMap = () => {\n    // only initialize the map once\n    if (this.initialized_) {\n      return;\n    }\n    this.initialized_ = true;\n\n    const propsCenter = latLng2Obj(\n      this.props.center || this.props.defaultCenter\n    );\n    this.geoService_.setView(\n      propsCenter,\n      this.props.zoom || this.props.defaultZoom,\n      0\n    );\n\n    this._onBoundsChanged(); // now we can calculate map bounds center etc...\n\n    const bootstrapURLKeys = {\n      ...(this.props.apiKey && { key: this.props.apiKey }),\n      ...this.props.bootstrapURLKeys,\n    };\n\n    this.props\n      .googleMapLoader(bootstrapURLKeys, this.props.heatmapLibrary)\n      .then((maps) => {\n        if (!this.mounted_) {\n          return;\n        }\n\n        const centerLatLng = this.geoService_.getCenter();\n\n        const propsOptions = {\n          zoom: this.props.zoom || this.props.defaultZoom,\n          center: new maps.LatLng(centerLatLng.lat, centerLatLng.lng),\n        };\n\n        // Start Heatmap\n        if (this.props.heatmap.positions) {\n          Object.assign(this, {\n            heatmap: generateHeatmap(maps, this.props.heatmap),\n          });\n          optionsHeatmap(this.heatmap, this.props.heatmap);\n        }\n        // End Heatmap\n\n        // prevent to exapose full api\n        // next props must be exposed (console.log(Object.keys(pick(maps, isPlainObject))))\n        // \"Animation\", \"ControlPosition\", \"MapTypeControlStyle\", \"MapTypeId\",\n        // \"NavigationControlStyle\", \"ScaleControlStyle\", \"StrokePosition\",\n        // \"SymbolPath\", \"ZoomControlStyle\",\n        // \"event\", \"DirectionsStatus\", \"DirectionsTravelMode\", \"DirectionsUnitSystem\",\n        // \"DistanceMatrixStatus\",\n        // \"DistanceMatrixElementStatus\", \"ElevationStatus\", \"GeocoderLocationType\",\n        // \"GeocoderStatus\", \"KmlLayerStatus\",\n        // \"MaxZoomStatus\", \"StreetViewStatus\", \"TransitMode\", \"TransitRoutePreference\",\n        // \"TravelMode\", \"UnitSystem\"\n        const mapPlainObjects = pick(maps, isPlainObject);\n        const options =\n          typeof this.props.options === 'function'\n            ? this.props.options(mapPlainObjects)\n            : this.props.options;\n        const defaultOptions = defaultOptions_(mapPlainObjects);\n\n        const draggableOptions = !isEmpty(this.props.draggable) && {\n          draggable: this.props.draggable,\n        };\n\n        const minZoom = this._computeMinZoom(options.minZoom);\n        this.minZoom_ = minZoom;\n\n        const preMapOptions = {\n          ...defaultOptions,\n          minZoom,\n          ...options,\n          ...propsOptions,\n        };\n\n        this.defaultDraggableOption_ = !isEmpty(preMapOptions.draggable)\n          ? preMapOptions.draggable\n          : this.defaultDraggableOption_;\n\n        const mapOptions = {\n          ...preMapOptions,\n          ...draggableOptions,\n        };\n\n        mapOptions.minZoom = _checkMinZoom(mapOptions.minZoom, minZoom);\n\n        const map = new maps.Map(\n          ReactDOM.findDOMNode(this.googleMapDom_),\n          mapOptions\n        );\n\n        this.map_ = map;\n        this.maps_ = maps;\n\n        this._setLayers(this.props.layerTypes);\n\n        // Parse `google.maps.version` to capture the major version number.\n        const versionMatch = maps.version.match(/^3\\.(\\d+)\\./);\n        // The major version is the first (and only) captured group.\n        const mapsVersion = versionMatch && Number(versionMatch[1]);\n\n        // render in overlay\n        const this_ = this;\n        const overlay = Object.assign(new maps.OverlayView(), {\n          onAdd() {\n            const K_MAX_WIDTH =\n              typeof screen !== 'undefined' ? `${screen.width}px` : '2000px';\n            const K_MAX_HEIGHT =\n              typeof screen !== 'undefined' ? `${screen.height}px` : '2000px';\n\n            const div = document.createElement('div');\n            div.style.backgroundColor = 'transparent';\n            div.style.position = 'absolute';\n            div.style.left = '0px';\n            div.style.top = '0px';\n            div.style.width = K_MAX_WIDTH; // prevents some chrome draw defects\n            div.style.height = K_MAX_HEIGHT;\n\n            if (this_.props.overlayViewDivStyle) {\n              const { overlayViewDivStyle } = this_.props;\n              if (typeof overlayViewDivStyle === 'object') {\n                Object.keys(overlayViewDivStyle).forEach((property) => {\n                  div.style[property] = overlayViewDivStyle[property];\n                });\n              }\n            }\n\n            const panes = this.getPanes();\n            panes.overlayMouseTarget.appendChild(div);\n            this_.geoService_.setMapCanvasProjection(\n              maps,\n              overlay.getProjection()\n            );\n\n            if (!IS_REACT_16) {\n              createPortal(\n                this_,\n                this_._renderPortal(),\n                div,\n                // remove prerendered markers\n                () => this_.setState({ overlay: div })\n              );\n            } else {\n              this_.setState({ overlay: div });\n            }\n          },\n\n          onRemove() {\n            const renderedOverlay = this_.state.overlay;\n            if (renderedOverlay && !IS_REACT_16) {\n              ReactDOM.unmountComponentAtNode(renderedOverlay);\n            }\n            this_.setState({ overlay: null });\n          },\n\n          draw() {\n            this_.updateCounter_++;\n            this_._onBoundsChanged(map, maps, !this_.props.debounced);\n\n            if (!this_.googleApiLoadedCalled_) {\n              this_._onGoogleApiLoaded({ map, maps, ref: this_.googleMapDom_ });\n              this_.googleApiLoadedCalled_ = true;\n            }\n\n            if (this_.mouse_) {\n              const latLng = this_.geoService_.fromContainerPixelToLatLng(\n                this_.mouse_\n              );\n              this_.mouse_.lat = latLng.lat;\n              this_.mouse_.lng = latLng.lng;\n            }\n\n            this_._onChildMouseMove();\n\n            if (this_.markersDispatcher_) {\n              this_.markersDispatcher_.emit('kON_CHANGE');\n              if (this_.fireMouseEventOnIdle_) {\n                this_.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n              }\n            }\n          },\n        });\n\n        this.overlay_ = overlay;\n\n        overlay.setMap(map);\n        if (this.props.heatmap.positions) {\n          this.heatmap.setMap(map);\n        }\n\n        if (this.props.onTilesLoaded) {\n          maps.event.addListener(map, 'tilesloaded', () => {\n            this_._onTilesLoaded();\n          });\n        }\n\n        maps.event.addListener(map, 'zoom_changed', () => {\n          // recalc position at zoom start\n          if (this_.geoService_.getZoom() !== map.getZoom()) {\n            if (!this_.zoomAnimationInProgress_) {\n              this_.zoomAnimationInProgress_ = true;\n              this_._onZoomAnimationStart(map.zoom);\n            }\n\n            // If draw() is not called each frame during a zoom animation,\n            // simulate it.\n            if (mapsVersion < DRAW_CALLED_DURING_ANIMATION_VERSION) {\n              const TIMEOUT_ZOOM = 300;\n\n              if (\n                new Date().getTime() - this.zoomControlClickTime_ <\n                TIMEOUT_ZOOM\n              ) {\n                // there is strange Google Map Api behavior in chrome when zoom animation of map\n                // is started only on second raf call, if was click on zoom control\n                // or +- keys pressed, so i wait for two rafs before change state\n\n                // this does not fully prevent animation jump\n                // but reduce it's occurence probability\n                raf(() =>\n                  raf(() => {\n                    this_.updateCounter_++;\n                    this_._onBoundsChanged(map, maps);\n                  })\n                );\n              } else {\n                this_.updateCounter_++;\n                this_._onBoundsChanged(map, maps);\n              }\n            }\n          }\n        });\n\n        maps.event.addListener(map, 'idle', () => {\n          if (this.resetSizeOnIdle_) {\n            this._setViewSize();\n            const currMinZoom = this._computeMinZoom(options.minZoom);\n\n            if (currMinZoom !== this.minZoom_) {\n              this.minZoom_ = currMinZoom;\n              map.setOptions({ minZoom: currMinZoom });\n            }\n\n            this.resetSizeOnIdle_ = false;\n          }\n\n          if (this_.zoomAnimationInProgress_) {\n            this_.zoomAnimationInProgress_ = false;\n            this_._onZoomAnimationEnd(map.zoom);\n          }\n\n          this_.updateCounter_++;\n          this_._onBoundsChanged(map, maps);\n\n          this_.dragTime_ = 0;\n\n          if (this_.markersDispatcher_) {\n            this_.markersDispatcher_.emit('kON_CHANGE');\n          }\n        });\n\n        maps.event.addListener(map, 'mouseover', () => {\n          // has advantage over div MouseLeave\n          this_.mouseInMap_ = true;\n        });\n\n        // an alternative way to know the mouse is back within the map\n        // This would not fire when clicking/interacting with google maps\n        // own on-map countrols+markers. This handles an edge case for touch devices\n        // + 'draggable:false' custom option. See #332 for more details.\n        maps.event.addListener(map, 'click', () => {\n          this_.mouseInMap_ = true;\n        });\n\n        maps.event.addListener(map, 'mouseout', () => {\n          // has advantage over div MouseLeave\n          this_.mouseInMap_ = false;\n          this_.mouse_ = null;\n          this_.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n        });\n\n        maps.event.addListener(map, 'drag', () => {\n          this_.dragTime_ = new Date().getTime();\n          this_._onDrag(map);\n        });\n\n        maps.event.addListener(map, 'dragend', () => {\n          // 'dragend' fires on mouse release.\n          // 'idle' listener waits until drag inertia ends before firing `onDragEnd`\n          const idleListener = maps.event.addListener(map, 'idle', () => {\n            maps.event.removeListener(idleListener);\n            this_._onDragEnd(map);\n          });\n        });\n        // user choosing satellite vs roads, etc\n        maps.event.addListener(map, 'maptypeid_changed', () => {\n          this_._onMapTypeIdChange(map.getMapTypeId());\n        });\n      })\n      .catch((e) => {\n        // notify callback of load failure\n        this._onGoogleApiLoaded({\n          map: null,\n          maps: null,\n          ref: this.googleMapDom_,\n        });\n        console.error(e); // eslint-disable-line no-console\n        throw e;\n      });\n  };\n\n  _onGoogleApiLoaded = (...args) => {\n    if (this.props.onGoogleApiLoaded) {\n      if (\n        process.env.NODE_ENV !== 'production' &&\n        this.props.yesIWantToUseGoogleMapApiInternals !== true\n      ) {\n        console.warn(\n          'GoogleMap: ' + // eslint-disable-line\n            'Usage of internal api objects is dangerous ' +\n            'and can cause a lot of issues.\\n' +\n            'To hide this warning add yesIWantToUseGoogleMapApiInternals={true} ' +\n            'to <GoogleMap instance'\n        );\n      }\n\n      this.props.onGoogleApiLoaded(...args);\n    }\n  };\n\n  _getHoverDistance = () => this.props.hoverDistance;\n\n  _onDrag = (...args) => this.props.onDrag && this.props.onDrag(...args);\n\n  _onDragEnd = (...args) =>\n    this.props.onDragEnd && this.props.onDragEnd(...args);\n\n  _onMapTypeIdChange = (...args) =>\n    this.props.onMapTypeIdChange && this.props.onMapTypeIdChange(...args);\n\n  _onZoomAnimationStart = (...args) =>\n    this.props.onZoomAnimationStart && this.props.onZoomAnimationStart(...args);\n\n  _onZoomAnimationEnd = (...args) =>\n    this.props.onZoomAnimationEnd && this.props.onZoomAnimationEnd(...args);\n\n  _onTilesLoaded = () => this.props.onTilesLoaded && this.props.onTilesLoaded();\n\n  _onChildClick = (...args) => {\n    if (this.props.onChildClick) {\n      return this.props.onChildClick(...args);\n    }\n    return undefined;\n  };\n\n  _onChildMouseDown = (hoverKey, childProps) => {\n    this.childMouseDownArgs_ = [hoverKey, childProps];\n    if (this.props.onChildMouseDown) {\n      this.props.onChildMouseDown(hoverKey, childProps, { ...this.mouse_ });\n    }\n  };\n\n  // this method works only if this.props.onChildMouseDown was called\n  _onChildMouseUp = () => {\n    if (this.childMouseDownArgs_) {\n      if (this.props.onChildMouseUp) {\n        this.props.onChildMouseUp(...this.childMouseDownArgs_, {\n          ...this.mouse_,\n        });\n      }\n      this.childMouseDownArgs_ = null;\n      this.childMouseUpTime_ = new Date().getTime();\n    }\n  };\n\n  // this method works only if this.props.onChildMouseDown was called\n  _onChildMouseMove = () => {\n    if (this.childMouseDownArgs_) {\n      if (this.props.onChildMouseMove) {\n        this.props.onChildMouseMove(...this.childMouseDownArgs_, {\n          ...this.mouse_,\n        });\n      }\n    }\n  };\n\n  _onChildMouseEnter = (...args) => {\n    if (this.props.onChildMouseEnter) {\n      return this.props.onChildMouseEnter(...args);\n    }\n    return undefined;\n  };\n\n  _onChildMouseLeave = (...args) => {\n    if (this.props.onChildMouseLeave) {\n      return this.props.onChildMouseLeave(...args);\n    }\n    return undefined;\n  };\n\n  _setViewSize = () => {\n    if (!this.mounted_) return;\n    if (isFullScreen()) {\n      this.geoService_.setViewSize(window.innerWidth, window.innerHeight);\n    } else {\n      const mapDom = ReactDOM.findDOMNode(this.googleMapDom_);\n      this.geoService_.setViewSize(mapDom.clientWidth, mapDom.clientHeight);\n    }\n    this._onBoundsChanged();\n  };\n\n  _onWindowResize = () => {\n    this.resetSizeOnIdle_ = true;\n  };\n\n  _onMapMouseMove = (e) => {\n    if (!this.mouseInMap_) return;\n\n    const currTime = new Date().getTime();\n    const K_RECALC_CLIENT_RECT_MS = 50;\n\n    if (currTime - this.mouseMoveTime_ > K_RECALC_CLIENT_RECT_MS) {\n      this.boundingRect_ = e.currentTarget.getBoundingClientRect();\n    }\n    this.mouseMoveTime_ = currTime;\n\n    const mousePosX = e.clientX - this.boundingRect_.left;\n    const mousePosY = e.clientY - this.boundingRect_.top;\n\n    if (!this.mouse_) {\n      this.mouse_ = { x: 0, y: 0, lat: 0, lng: 0 };\n    }\n\n    this.mouse_.x = mousePosX;\n    this.mouse_.y = mousePosY;\n\n    const latLng = this.geoService_.fromContainerPixelToLatLng(this.mouse_);\n    this.mouse_.lat = latLng.lat;\n    this.mouse_.lng = latLng.lng;\n\n    this._onChildMouseMove();\n\n    if (currTime - this.dragTime_ < K_IDLE_TIMEOUT) {\n      this.fireMouseEventOnIdle_ = true;\n    } else {\n      this.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n      this.fireMouseEventOnIdle_ = false;\n    }\n  };\n\n  // K_IDLE_CLICK_TIMEOUT - looks like 300 is enough\n  _onClick = (...args) =>\n    this.props.onClick &&\n    !this.childMouseDownArgs_ &&\n    new Date().getTime() - this.childMouseUpTime_ > K_IDLE_CLICK_TIMEOUT &&\n    this.dragTime_ === 0 &&\n    this.props.onClick(...args);\n\n  _onMapClick = (event) => {\n    if (this.markersDispatcher_) {\n      // support touch events and recalculate mouse position on click\n      this._onMapMouseMove(event);\n      const currTime = new Date().getTime();\n      if (currTime - this.dragTime_ > K_IDLE_TIMEOUT) {\n        if (this.mouse_) {\n          this._onClick({\n            ...this.mouse_,\n            event,\n          });\n        }\n\n        this.markersDispatcher_.emit('kON_CLICK', event);\n      }\n    }\n  };\n\n  // gmap can't prevent map drag if mousedown event already occured\n  // the only workaround I find is prevent mousedown native browser event\n  _onMapMouseDownNative = (event) => {\n    if (!this.mouseInMap_) return;\n\n    this._onMapMouseDown(event);\n  };\n\n  _onMapMouseDown = (event) => {\n    if (this.markersDispatcher_) {\n      const currTime = new Date().getTime();\n      if (currTime - this.dragTime_ > K_IDLE_TIMEOUT) {\n        // Hovered marker detected at mouse move could be deleted at mouse down time\n        // so it will be good to force hovered marker recalculation\n        this._onMapMouseMove(event);\n        this.markersDispatcher_.emit('kON_MDOWN', event);\n      }\n    }\n  };\n\n  _onMapMouseDownCapture = () => {\n    if (detectBrowser().isChrome) {\n      // to fix strange zoom in chrome\n      this.zoomControlClickTime_ = new Date().getTime();\n    }\n  };\n\n  _onKeyDownCapture = () => {\n    if (detectBrowser().isChrome) {\n      this.zoomControlClickTime_ = new Date().getTime();\n    }\n  };\n\n  _isCenterDefined = (center) =>\n    center &&\n    ((isPlainObject(center) && isNumber(center.lat) && isNumber(center.lng)) ||\n      (center.length === 2 && isNumber(center[0]) && isNumber(center[1])));\n\n  _onBoundsChanged = (map, maps, callExtBoundsChange) => {\n    if (map) {\n      const gmC = map.getCenter();\n      this.geoService_.setView([gmC.lat(), gmC.lng()], map.getZoom(), 0);\n    }\n\n    if (\n      (this.props.onChange || this.props.onBoundsChange) &&\n      this.geoService_.canProject()\n    ) {\n      const zoom = this.geoService_.getZoom();\n      const bounds = this.geoService_.getBounds();\n      const centerLatLng = this.geoService_.getCenter();\n\n      if (!isArraysEqualEps(bounds, this.prevBounds_, kEPS)) {\n        if (callExtBoundsChange !== false) {\n          const marginBounds = this.geoService_.getBounds(this.props.margin);\n          if (this.props.onBoundsChange) {\n            this.props.onBoundsChange(\n              this.centerIsObject_\n                ? { ...centerLatLng }\n                : [centerLatLng.lat, centerLatLng.lng],\n              zoom,\n              bounds,\n              marginBounds\n            );\n          }\n\n          if (this.props.onChange) {\n            this.props.onChange({\n              center: { ...centerLatLng },\n              zoom,\n              bounds: {\n                nw: {\n                  lat: bounds[0],\n                  lng: bounds[1],\n                },\n                se: {\n                  lat: bounds[2],\n                  lng: bounds[3],\n                },\n                sw: {\n                  lat: bounds[4],\n                  lng: bounds[5],\n                },\n                ne: {\n                  lat: bounds[6],\n                  lng: bounds[7],\n                },\n              },\n              marginBounds: {\n                nw: {\n                  lat: marginBounds[0],\n                  lng: marginBounds[1],\n                },\n                se: {\n                  lat: marginBounds[2],\n                  lng: marginBounds[3],\n                },\n                sw: {\n                  lat: marginBounds[4],\n                  lng: marginBounds[5],\n                },\n                ne: {\n                  lat: marginBounds[6],\n                  lng: marginBounds[7],\n                },\n              },\n\n              size: this.geoService_.hasSize()\n                ? {\n                    width: this.geoService_.getWidth(),\n                    height: this.geoService_.getHeight(),\n                  }\n                : {\n                    width: 0,\n                    height: 0,\n                  },\n            });\n          }\n\n          this.prevBounds_ = bounds;\n        }\n      }\n    }\n  };\n\n  _registerChild = (ref) => {\n    this.googleMapDom_ = ref;\n  };\n\n  render() {\n    const overlay = this.state.overlay;\n    const mapMarkerPrerender = !overlay ? (\n      <GoogleMapMarkersPrerender\n        experimental={this.props.experimental}\n        onChildClick={this._onChildClick}\n        onChildMouseDown={this._onChildMouseDown}\n        onChildMouseEnter={this._onChildMouseEnter}\n        onChildMouseLeave={this._onChildMouseLeave}\n        geoService={this.geoService_}\n        insideMapPanes={false}\n        distanceToMouse={this.props.distanceToMouse}\n        getHoverDistance={this._getHoverDistance}\n        dispatcher={this.markersDispatcher_}\n      />\n    ) : null;\n\n    return (\n      <div\n        style={this.props.style}\n        onMouseMove={this._onMapMouseMove}\n        onMouseDownCapture={this._onMapMouseDownCapture}\n        onClick={this._onMapClick}\n      >\n        <GoogleMapMap registerChild={this._registerChild} />\n        {IS_REACT_16 && overlay && createPortal(this._renderPortal(), overlay)}\n\n        {/* render markers before map load done */}\n        {mapMarkerPrerender}\n      </div>\n    );\n  }\n}\n\nexport default GoogleMap;\n","export const generateHeatmap = (instance, { positions }) =>\n  new instance.visualization.HeatmapLayer({\n    data: positions.reduce((acc, { lat, lng, weight = 1 }) => {\n      acc.push({\n        location: new instance.LatLng(lat, lng),\n        weight,\n      });\n      return acc;\n    }, []),\n  });\n\nexport const optionsHeatmap = (instance, { options = {} }) =>\n  Object.keys(options).map((option) => instance.set(option, options[option]));\n","export default function isArraysEqualEps(arrayA, arrayB, eps) {\n  if (arrayA && arrayB) {\n    for (let i = 0; i !== arrayA.length; ++i) {\n      if (Math.abs(arrayA[i] - arrayB[i]) > eps) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n","import log2 from '../utils/log2';\n\nconst GOOGLE_TILE_SIZE = 256;\n\nfunction latLng2World({ lat, lng }) {\n  const sin = Math.sin((lat * Math.PI) / 180);\n  const x = lng / 360 + 0.5;\n  let y = 0.5 - (0.25 * Math.log((1 + sin) / (1 - sin))) / Math.PI;\n\n  y = y < 0 // eslint-disable-line\n      ? 0\n      : y > 1\n      ? 1\n      : y;\n  return { x, y };\n}\n\nfunction world2LatLng({ x, y }) {\n  const n = Math.PI - 2 * Math.PI * y;\n\n  // TODO test that this is faster\n  // 360 * Math.atan(Math.exp((180 - y * 360) * Math.PI / 180)) / Math.PI - 90;\n  return {\n    lat: (180 / Math.PI) * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n))),\n    lng: x * 360 - 180,\n  };\n}\n\n// Thank you wiki https://en.wikipedia.org/wiki/Geographic_coordinate_system\nfunction latLng2MetersPerDegree({ lat }) {\n  const phi = (lat * Math.PI) / 180;\n  const metersPerLatDegree =\n    111132.92 -\n    559.82 * Math.cos(2 * phi) +\n    1.175 * Math.cos(4 * phi) -\n    0.0023 * Math.cos(6 * phi);\n  const metersPerLngDegree =\n    111412.84 * Math.cos(phi) -\n    93.5 * Math.cos(3 * phi) +\n    0.118 * Math.cos(5 * phi);\n  return { metersPerLatDegree, metersPerLngDegree };\n}\n\nfunction meters2LatLngBounds(meters, { lat, lng }) {\n  const { metersPerLatDegree, metersPerLngDegree } = latLng2MetersPerDegree({\n    lat,\n  });\n\n  const latDelta = (0.5 * meters) / metersPerLatDegree;\n  const lngDelta = (0.5 * meters) / metersPerLngDegree;\n\n  return {\n    nw: {\n      lat: lat - latDelta,\n      lng: lng - lngDelta,\n    },\n    se: {\n      lat: lat + latDelta,\n      lng: lng + lngDelta,\n    },\n  };\n}\n\nfunction meters2WorldSize(meters, { lat, lng }) {\n  const { nw, se } = meters2LatLngBounds(meters, { lat, lng });\n  const nwWorld = latLng2World(nw);\n  const seWorld = latLng2World(se);\n  const w = Math.abs(seWorld.x - nwWorld.x);\n  const h = Math.abs(seWorld.y - nwWorld.y);\n\n  return { w, h };\n}\n\nfunction fitNwSe(nw, se, width, height) {\n  const EPS = 0.000000001;\n  const nwWorld = latLng2World(nw);\n  const seWorld = latLng2World(se);\n  const dx =\n    nwWorld.x < seWorld.x ? seWorld.x - nwWorld.x : 1 - nwWorld.x + seWorld.x;\n  const dy = seWorld.y - nwWorld.y;\n\n  if (dx <= 0 && dy <= 0) {\n    return null;\n  }\n\n  const zoomX = log2(width / GOOGLE_TILE_SIZE / Math.abs(dx));\n  const zoomY = log2(height / GOOGLE_TILE_SIZE / Math.abs(dy));\n  const zoom = Math.floor(EPS + Math.min(zoomX, zoomY));\n\n  // TODO find center just unproject middle world point\n  const middle = {\n    x: nwWorld.x < seWorld.x // eslint-disable-line\n        ? 0.5 * (nwWorld.x + seWorld.x)\n        : nwWorld.x + seWorld.x - 1 > 0\n        ? 0.5 * (nwWorld.x + seWorld.x - 1)\n        : 0.5 * (1 + nwWorld.x + seWorld.x),\n    y: 0.5 * (nwWorld.y + seWorld.y),\n  };\n\n  const scale = Math.pow(2, zoom);\n  const halfW = width / scale / GOOGLE_TILE_SIZE / 2;\n  const halfH = height / scale / GOOGLE_TILE_SIZE / 2;\n\n  const newNW = world2LatLng({\n    x: middle.x - halfW,\n    y: middle.y - halfH,\n  });\n\n  const newSE = world2LatLng({\n    x: middle.x + halfW,\n    y: middle.y + halfH,\n  });\n\n  return {\n    center: world2LatLng(middle),\n    zoom,\n    newBounds: {\n      nw: newNW,\n      se: newSE,\n    },\n  };\n}\n\nexport function convertNeSwToNwSe({ ne, sw }) {\n  return {\n    nw: {\n      lat: ne.lat,\n      lng: sw.lng,\n    },\n    se: {\n      lat: sw.lat,\n      lng: ne.lng,\n    },\n  };\n}\n\nexport function convertNwSeToNeSw({ nw, se }) {\n  return {\n    ne: {\n      lat: nw.lat,\n      lng: se.lng,\n    },\n    sw: {\n      lat: se.lat,\n      lng: nw.lng,\n    },\n  };\n}\n\nexport function fitBounds({ nw, se, ne, sw }, { width, height }) {\n  let fittedData;\n\n  if (nw && se) {\n    fittedData = fitNwSe(nw, se, width, height);\n  } else {\n    const calculatedNwSe = convertNeSwToNwSe({ ne, sw });\n    fittedData = fitNwSe(calculatedNwSe.nw, calculatedNwSe.se, width, height);\n  }\n\n  return {\n    ...fittedData,\n    newBounds: {\n      ...fittedData.newBounds,\n      ...convertNwSeToNeSw(fittedData.newBounds),\n    },\n  };\n}\n\n// -------------------------------------------------------------------\n// Helpers to calc some markers size\n\nexport function meters2ScreenPixels(meters, { lat, lng }, zoom) {\n  const { w, h } = meters2WorldSize(meters, { lat, lng });\n  const scale = Math.pow(2, zoom);\n  const wScreen = w * scale * GOOGLE_TILE_SIZE;\n  const hScreen = h * scale * GOOGLE_TILE_SIZE;\n  return {\n    w: wScreen,\n    h: hScreen,\n  };\n}\n\n// --------------------------------------------------\n// Helper functions for working with svg tiles, (examples coming soon)\n\nexport function tile2LatLng({ x, y }, zoom) {\n  const n = Math.PI - (2 * Math.PI * y) / Math.pow(2, zoom);\n\n  return {\n    lat: (180 / Math.PI) * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n))),\n    lng: (x / Math.pow(2, zoom)) * 360 - 180,\n  };\n}\n\nexport function latLng2Tile({ lat, lng }, zoom) {\n  const worldCoords = latLng2World({ lat, lng });\n  const scale = Math.pow(2, zoom);\n\n  return {\n    x: Math.floor(worldCoords.x * scale),\n    y: Math.floor(worldCoords.y * scale),\n  };\n}\n\nexport function getTilesIds({ from, to }, zoom) {\n  const scale = Math.pow(2, zoom);\n\n  const ids = [];\n  for (let x = from.x; x !== (to.x + 1) % scale; x = (x + 1) % scale) {\n    for (let y = from.y; y !== (to.y + 1) % scale; y = (y + 1) % scale) {\n      ids.push([zoom, x, y]);\n    }\n  }\n\n  return ids;\n}\n"]},"metadata":{},"sourceType":"module"}